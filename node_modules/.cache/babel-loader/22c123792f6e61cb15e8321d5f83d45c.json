{"ast":null,"code":"import _slicedToArray from\"/Users/samilvaliahmetov/education/programming/schoolProject/my-app/main/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{recipesConnect}from\"../../connect/recipes/recipes\";import Paper from'@mui/material/Paper';import{Link}from'react-router-dom';import{useState,useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import Axios from'axios';import{setRecipesWithAPI}from\"../../store/recipes\";import CircularProgress from'@mui/material/CircularProgress';import Button from\"@mui/material/Button\";import AddRoundedIcon from'@mui/icons-material/AddRounded';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var paperCss={borderRadius:'7px',padding:'10px',height:'100px',textAlign:'center',display:'flex',alignItems:'center',flexDirection:'column'};var imageCss={borderRadius:'5px',maxHeight:'80%',maxWidth:'80%'};var loadingDivCss={textAlign:'center',padding:'32px 0'};export var Widget=function Widget(_ref){var userRecipes=_ref.userRecipes,largePhone=_ref.largePhone;var userId=useSelector(function(state){return state.user.id;});var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];var selector=useSelector(function(state){return state.recipes.userRecipes;});var dispatch=useDispatch();var css={display:'grid',gridTemplateColumns:'1fr 1fr 1fr',gap:'2%'};if(largePhone){css.gridTemplateColumns='1fr 1fr';}useEffect(function(){if(Object.values(selector).length===0){setIsLoading(true);Axios.get('https://cookery-app.herokuapp.com/user/reciepes/get',{params:{id:userId}}).then(function(response){setIsLoading(false);dispatch(setRecipesWithAPI(response.data));});}},[]);return/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'32px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',marginBottom:'16px'},children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\u0412\\u0430\\u0448\\u0438 \\u0440\\u0435\\u0446\\u0435\\u043F\\u0442\\u044B\"}),/*#__PURE__*/_jsx(Link,{to:\"/profile/create\",children:/*#__PURE__*/_jsx(Button,{style:{marginLeft:'12px',borderColor:\"#000000\",color:'#000000'},variant:\"outlined\",type:\"submit\",children:/*#__PURE__*/_jsx(AddRoundedIcon,{})})})]}),/*#__PURE__*/_jsx(\"div\",{children:Object.values(userRecipes).length?isLoading?/*#__PURE__*/_jsx(\"div\",{style:loadingDivCss,children:/*#__PURE__*/_jsx(CircularProgress,{sx:{color:'black'}})}):/*#__PURE__*/_jsx(\"div\",{style:css,children:Object.values(userRecipes).map(function(item){return/*#__PURE__*/_jsx(Link,{to:\"/recipes/\".concat(item.id,\"/profile\"),children:/*#__PURE__*/_jsxs(Paper,{elevation:3,style:paperCss,children:[/*#__PURE__*/_jsx(\"img\",{style:imageCss,src:item.images[0],alt:\"food\"}),/*#__PURE__*/_jsx(\"p\",{children:item.title})]})},item.id);})}):/*#__PURE__*/_jsx(\"div\",{className:\"selectedProductsEmpty\",style:{textAlign:'center',margin:'1%',border:'2px dashed black',borderRadius:'8px'},children:/*#__PURE__*/_jsx(\"h6\",{style:{margin:'48px 0'},children:\"\\u0421\\u043F\\u0438\\u0441\\u043E\\u043A \\u0440\\u0435\\u0446\\u0435\\u043F\\u0442\\u043E\\u0432 \\u043F\\u0443\\u0441\\u0442\"})})})]});};export var UserRecipes=recipesConnect(Widget);","map":{"version":3,"sources":["/Users/samilvaliahmetov/education/programming/schoolProject/my-app/main/client/src/components/usersRecipes/usersRecipes.js"],"names":["recipesConnect","Paper","Link","useState","useEffect","useDispatch","useSelector","Axios","setRecipesWithAPI","CircularProgress","Button","AddRoundedIcon","paperCss","borderRadius","padding","height","textAlign","display","alignItems","flexDirection","imageCss","maxHeight","maxWidth","loadingDivCss","Widget","userRecipes","largePhone","userId","state","user","id","isLoading","setIsLoading","selector","recipes","dispatch","css","gridTemplateColumns","gap","Object","values","length","get","params","then","response","data","marginTop","marginBottom","marginLeft","borderColor","color","map","item","images","title","margin","border","UserRecipes"],"mappings":"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","sourcesContent":["import { recipesConnect } from \"../../connect/recipes/recipes\"\nimport Paper from '@mui/material/Paper';\nimport { Link } from 'react-router-dom';\nimport { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Axios from 'axios';\nimport { setRecipesWithAPI } from \"../../store/recipes\";\nimport CircularProgress from '@mui/material/CircularProgress';\nimport Button from \"@mui/material/Button\";\nimport AddRoundedIcon from '@mui/icons-material/AddRounded';\n\nconst paperCss = {borderRadius: '7px', padding: '10px', height: '100px', textAlign: 'center', display: 'flex', alignItems: 'center', flexDirection: 'column'}\nconst imageCss = {borderRadius: '5px', maxHeight: '80%', maxWidth: '80%'}\nconst loadingDivCss = {textAlign: 'center', padding: '32px 0'}\n\nexport const Widget = ({userRecipes, largePhone}) => {\n    const userId = useSelector((state) => state.user.id);\n    const [isLoading, setIsLoading] = useState(false);\n    const selector = useSelector((state) => state.recipes.userRecipes);\n    const dispatch = useDispatch()\n\n    const css = {display: 'grid', gridTemplateColumns: '1fr 1fr 1fr', gap: '2%'}\n    if (largePhone) { css.gridTemplateColumns = '1fr 1fr' }\n\n    useEffect(() => {\n        if (Object.values(selector).length === 0) {\n            setIsLoading(true)\n            Axios.get('https://cookery-app.herokuapp.com/user/reciepes/get', {\n                params: { id: userId }\n            }).then((response) => {\n                setIsLoading(false)\n                dispatch(setRecipesWithAPI(response.data))\n            })\n        }\n    }, [])\n\n    return (\n        <div style={{marginTop: '32px'}}>\n            <div style={{ display: 'flex', marginBottom: '16px' }}>\n            <h4>Ваши рецепты</h4>\n            <Link to='/profile/create'>\n                <Button \n                    style={{\n                        marginLeft: '12px',\n                        borderColor: \"#000000\",\n                        color: '#000000',\n                    }}\n                    variant=\"outlined\" \n                    type=\"submit\"\n                >\n                    <AddRoundedIcon/>\n                </Button>\n            </Link>\n        </div>\n            <div>\n            {Object.values(userRecipes).length ? \n                isLoading ? \n                    <div style={loadingDivCss}>\n                        <CircularProgress sx={{color: 'black'}}/>\n                    </div> \n                    :<div style={css}>\n                        {Object.values(userRecipes).map(item => (\n                        <Link key={item.id} to={`/recipes/${item.id}/profile`}>\n                            <Paper elevation={3} style={paperCss}>\n                                <img style={imageCss} src={item.images[0]} alt='food'/>\n                                <p>{item.title}</p>\n                            </Paper>\n                        </Link>))}\n                    </div> \n                :<div className=\"selectedProductsEmpty\" style={{textAlign: 'center', margin: '1%', border: '2px dashed black', borderRadius: '8px'}}>\n                    <h6 style={{margin: '48px 0'}}>Список рецептов пуст</h6>\n                </div>}\n            </div>\n        </div>\n    )\n}\n\nexport const UserRecipes = recipesConnect(Widget)"]},"metadata":{},"sourceType":"module"}