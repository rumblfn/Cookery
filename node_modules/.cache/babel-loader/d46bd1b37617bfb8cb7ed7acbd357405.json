{"ast":null,"code":"import _slicedToArray from\"/Users/samilvaliahmetov/education/programming/local-github/Cookery/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _createForOfIteratorHelper from\"/Users/samilvaliahmetov/education/programming/local-github/Cookery/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";import _toConsumableArray from\"/Users/samilvaliahmetov/education/programming/local-github/Cookery/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/Users/samilvaliahmetov/education/programming/local-github/Cookery/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{recipesConnect}from\"../../../connect/recipes/recipes\";import Paper from'@mui/material/Paper';import{Link}from'react-router-dom';import{useState,useEffect}from'react';import Axios from'axios';import{useSelector}from'react-redux';import\"./style.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var css={display:'grid',gridTemplateColumns:'1fr 1fr',gap:'16px',marginTop:'16px'};export var Widget=recipesConnect(function(_ref){var otherRecipes=_ref.otherRecipes,timeFilter=_ref.timeFilter,searchField=_ref.searchField,format=_ref.format,allRecipesBool=_ref.allRecipesBool,userRecipes=_ref.userRecipes,setRicepes=_ref.setRicepes,setIsLoading=_ref.setIsLoading,recipes=_ref.recipes,selectedProducts=_ref.selectedProducts;var newRecipes={};if(allRecipesBool){if(format==='computer'){css=_objectSpread(_objectSpread({},css),{},{gridTemplateColumns:'1fr 1fr 1fr 1fr'});}else if(format==='laptop'){css=_objectSpread(_objectSpread({},css),{},{gridTemplateColumns:'1fr 1fr 1fr'});}else if(format==='tablet'){css=_objectSpread(_objectSpread({},css),{},{gridTemplateColumns:'1fr 1fr 1fr'});}else if(format==='tablet2'){css=_objectSpread(_objectSpread({},css),{},{gridTemplateColumns:'1fr 1fr'});}else if(format==='phone'){css=_objectSpread(_objectSpread({},css),{},{gridTemplateColumns:'1fr'});}if(allRecipesBool==='starred'){newRecipes=useSelector(function(state){return state.recipes.starred_recipes;});}else{newRecipes=_objectSpread({},recipes);}}else{if(format==='computer'){css=_objectSpread(_objectSpread({},css),{},{gridTemplateColumns:'1fr 1fr 1fr'});}else if(format==='laptop'){css=_objectSpread(_objectSpread({},css),{},{gridTemplateColumns:'1fr 1fr'});}else if(format==='tablet'){css=_objectSpread(_objectSpread({},css),{},{gridTemplateColumns:'1fr 1fr'});}else if(format==='tablet2'){css=_objectSpread(_objectSpread({},css),{},{gridTemplateColumns:'1fr'});}else if(format==='phone'){css=_objectSpread(_objectSpread({},css),{},{gridTemplateColumns:'1fr'});}useEffect(function(){if(Object.keys(recipes).length<=Object.keys(userRecipes).length){setIsLoading(true);Axios.get('https://cookery-app.herokuapp.com/recipes/get').then(function(response){setRicepes(response.data);setIsLoading(false);});}},[]);var isEmpty=function isEmpty(obj){for(var key in obj){return true;}return false;};var checkProductsInRecipe=function checkProductsInRecipe(recipe,prods){for(var key in prods){if(recipe.lstOfProducts.includes(prods[key].name.toLowerCase())){return true;}}return false;};if(isEmpty(selectedProducts)){for(var recipe in recipes){if(checkProductsInRecipe(recipes[recipe],selectedProducts)){newRecipes[recipe]=_objectSpread({},recipes[recipe]);}}}}var numberSort=function numberSort(a,b){return a-b;};var recipesPreparation=_toConsumableArray(Object.values(newRecipes));var recipesIds=[];var _iterator=_createForOfIteratorHelper(recipesPreparation),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var _recipe=_step.value;recipesIds.push(_recipe.id);}}catch(err){_iterator.e(err);}finally{_iterator.f();}if(timeFilter!==0){recipesPreparation.sort(function(recipe1,recipe2){var splitted_time1=recipe1.time.split(':');var splitted_time2=recipe2.time.split(':');var number1=+splitted_time2[0]*60+ +splitted_time2[1];var number2=+splitted_time1[0]*60+ +splitted_time1[1];if(timeFilter===-1){return numberSort(number1,number2);}return numberSort(number2,number1);});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:css,children:!allRecipesBool?recipesPreparation.map(function(item){return item.title.toLowerCase().includes(searchField)?/*#__PURE__*/_jsx(Link,{to:\"/recipes/\".concat(item.id,\"/\").concat(allRecipesBool==='starred'?'starred':'all'),children:/*#__PURE__*/_jsxs(Paper,{elevation:3,className:\"paper-recipe-box\",style:{borderRadius:'7px',height:'200px',overflow:'hidden',position:'relative',justifyContent:'space-between',display:'flex',alignItems:'center',flexDirection:'column'},children:[Object.values(item.images)?/*#__PURE__*/_jsx(\"img\",{style:{width:'100%',height:'100%',objectFit:'cover'},src:\"https://cookery-app.herokuapp.com/reciepes/\".concat(item.images[0]),alt:\"food\"}):/*#__PURE__*/_jsx(\"div\",{style:{backgroundColor:'black',width:'100%',height:'100%',position:'relative'}}),/*#__PURE__*/_jsx(\"div\",{className:\"overlay\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text\",children:item.title})})]})},item.id):null;}):Object.values(newRecipes).map(function(item){return/*#__PURE__*/_jsx(Link,{to:\"/recipes/\".concat(item.id,\"/\").concat(allRecipesBool==='starred'?'starred':'all'),children:/*#__PURE__*/_jsxs(Paper,{elevation:3,className:\"paper-recipe-box\",style:{borderRadius:'7px',height:'200px',overflow:'hidden',position:'relative',justifyContent:'space-between',display:'flex',alignItems:'center',flexDirection:'column'},children:[Object.values(item.images)?/*#__PURE__*/_jsx(\"img\",{style:{width:'100%',height:'100%',objectFit:'cover'},src:\"https://cookery-app.herokuapp.com/reciepes/\".concat(item.images[0]),alt:\"food\"}):/*#__PURE__*/_jsx(\"div\",{style:{backgroundColor:'black',width:'100%',height:'100%',position:'relative'}}),/*#__PURE__*/_jsx(\"div\",{className:\"overlay\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text\",children:item.title})})]})},item.id);})}),/*#__PURE__*/_jsxs(\"div\",{children:[!allRecipesBool&&otherRecipes.length!==0&&/*#__PURE__*/_jsx(\"h4\",{style:{marginTop:'36px'},children:\"\\u0414\\u0440\\u0443\\u0433\\u0438\\u0435 \\u0440\\u0435\\u0446\\u0435\\u043F\\u0442\\u044B...\"}),/*#__PURE__*/_jsx(\"div\",{style:css,children:!allRecipesBool&&otherRecipes.filter(function(item){return!recipesIds.includes(item.id);}).map(function(item){return/*#__PURE__*/_jsx(Link,{to:\"/recipes/\".concat(item.id,\"/\").concat(allRecipesBool==='starred'?'starred':'all'),children:/*#__PURE__*/_jsxs(Paper,{elevation:3,className:\"paper-recipe-box\",style:{borderRadius:'7px',height:'200px',overflow:'hidden',position:'relative',justifyContent:'space-between',display:'flex',alignItems:'center',flexDirection:'column'},children:[Object.values(item.images)?/*#__PURE__*/_jsx(\"img\",{style:{width:'100%',height:'100%',objectFit:'cover'},src:\"https://cookery-app.herokuapp.com/reciepes/\".concat(item.images[0]),alt:\"food\"}):/*#__PURE__*/_jsx(\"div\",{style:{backgroundColor:'black',width:'100%',height:'100%',position:'relative'}}),/*#__PURE__*/_jsx(\"div\",{className:\"overlay\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text\",children:item.title})})]})},item.id);})})]})]});});export var ListOfReciepes=function ListOfReciepes(_ref2){var otherRecipes=_ref2.otherRecipes,format=_ref2.format,allRecipesBool=_ref2.allRecipesBool,timeFilter=_ref2.timeFilter,searchField=_ref2.searchField;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];return/*#__PURE__*/_jsx(Widget,{otherRecipes:otherRecipes,format:format,allRecipesBool:allRecipesBool,timeFilter:timeFilter,isLoading:isLoading,setIsLoading:setIsLoading,searchField:searchField});};","map":{"version":3,"sources":["/Users/samilvaliahmetov/education/programming/local-github/Cookery/src/components/HomePage/listOfReciepes/listOfReciepes.js"],"names":["recipesConnect","Paper","Link","useState","useEffect","Axios","useSelector","css","display","gridTemplateColumns","gap","marginTop","Widget","otherRecipes","timeFilter","searchField","format","allRecipesBool","userRecipes","setRicepes","setIsLoading","recipes","selectedProducts","newRecipes","state","starred_recipes","Object","keys","length","get","then","response","data","isEmpty","obj","key","checkProductsInRecipe","recipe","prods","lstOfProducts","includes","name","toLowerCase","numberSort","a","b","recipesPreparation","values","recipesIds","push","id","sort","recipe1","recipe2","splitted_time1","time","split","splitted_time2","number1","number2","map","item","title","borderRadius","height","overflow","position","justifyContent","alignItems","flexDirection","images","width","objectFit","backgroundColor","filter","ListOfReciepes","isLoading"],"mappings":"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","sourcesContent":["import { recipesConnect } from \"../../../connect/recipes/recipes\"\nimport Paper from '@mui/material/Paper';\nimport { Link } from 'react-router-dom';\nimport { useState, useEffect } from 'react';\nimport Axios from 'axios';\nimport { useSelector } from 'react-redux';\nimport \"./style.css\";\n\nlet css = {display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '16px', marginTop: '16px'}\n\nexport const Widget = recipesConnect(({otherRecipes, timeFilter, searchField, format, allRecipesBool, userRecipes, setRicepes, setIsLoading, recipes, selectedProducts}) => {\n    let newRecipes = {}\n\n    if (allRecipesBool) {\n\n        if (format === 'computer') { css = {...css, gridTemplateColumns: '1fr 1fr 1fr 1fr'}\n        } else if (format === 'laptop') { css = {...css, gridTemplateColumns: '1fr 1fr 1fr'}\n        } else if (format === 'tablet') { css = {...css, gridTemplateColumns: '1fr 1fr 1fr'}\n        } else if (format === 'tablet2') { css = {...css, gridTemplateColumns: '1fr 1fr'}\n        } else if (format === 'phone') { css = {...css, gridTemplateColumns: '1fr'}\n        } \n\n        if (allRecipesBool === 'starred') {\n            newRecipes = useSelector(state => state.recipes.starred_recipes)\n        } else {\n            newRecipes = {...recipes}\n        }\n\n    } else {\n\n        if (format === 'computer') { css = {...css, gridTemplateColumns: '1fr 1fr 1fr'}\n        } else if (format === 'laptop') { css = {...css, gridTemplateColumns: '1fr 1fr'}\n        } else if (format === 'tablet') { css = {...css, gridTemplateColumns: '1fr 1fr'}\n        } else if (format === 'tablet2') { css = {...css, gridTemplateColumns: '1fr'}\n        } else if (format === 'phone') { css = {...css, gridTemplateColumns: '1fr'} }\n\n        useEffect(() => {\n            if (Object.keys(recipes).length <= Object.keys(userRecipes).length) {\n                setIsLoading(true)\n                Axios.get('https://cookery-app.herokuapp.com/recipes/get')\n                    .then((response) => {\n                        setRicepes(response.data)\n                        setIsLoading(false)\n                    }\n                )\n            }\n        }, [])\n    \n        const isEmpty = (obj) => { for (let key in obj) { return true } return false }\n    \n        const checkProductsInRecipe = (recipe, prods) => {\n            for (let key in prods) {\n                if (recipe.lstOfProducts.includes(prods[key].name.toLowerCase())) {\n                    return true\n                }} return false }\n        \n        if (isEmpty(selectedProducts)) {\n            for (let recipe in recipes) {\n                if (checkProductsInRecipe(recipes[recipe], selectedProducts)) {\n                    newRecipes[recipe] = {...recipes[recipe]}}}}}\n\n    const numberSort = function (a, b) {\n        return a - b;\n    };\n\n    const recipesPreparation = [...Object.values(newRecipes)]\n    const recipesIds = []\n    for (let recipe of recipesPreparation) {\n        recipesIds.push(recipe.id)\n    }\n\n    if (timeFilter !== 0) {\n        recipesPreparation.sort(function (recipe1, recipe2) {\n            const splitted_time1 = recipe1.time.split(':')\n            const splitted_time2 = recipe2.time.split(':')\n            const number1 = +splitted_time2[0] * 60 + +splitted_time2[1]\n            const number2 = +splitted_time1[0] * 60 + +splitted_time1[1]\n            if (timeFilter === -1) {\n                return numberSort(number1, number2)\n            }\n            return numberSort(number2, number1)\n        })\n    }\n\n    return (\n        <div>\n            <div style={css}>\n                {!allRecipesBool ? recipesPreparation.map(item => (item.title.toLowerCase().includes(searchField) ?\n                    <Link to={`/recipes/${item.id}/${allRecipesBool === 'starred' ? 'starred' : 'all'}`} key={item.id}>\n                        <Paper elevation={3} className=\"paper-recipe-box\" style={{\n                            borderRadius: '7px', height: '200px', overflow: 'hidden', position: 'relative',\n                            justifyContent: 'space-between', display: 'flex', alignItems: 'center', flexDirection: 'column'\n                        }}>\n                            {Object.values(item.images) ? \n                                <img style={{width: '100%', height: '100%', objectFit: 'cover'}} src={`https://cookery-app.herokuapp.com/reciepes/${item.images[0]}`} alt='food'/>\n                                : <div style={{backgroundColor: 'black', width: '100%', height: '100%', position: 'relative'}}/>\n                            }\n                            <div className=\"overlay\">\n                                <div className=\"text\">{item.title}</div>\n                            </div>\n                        </Paper>\n                    </Link>\n                : null)) :\n                    Object.values(newRecipes).map(item => (\n                        <Link to={`/recipes/${item.id}/${allRecipesBool === 'starred' ? 'starred' : 'all'}`} key={item.id}>\n                            <Paper elevation={3} className=\"paper-recipe-box\" style={{\n                                borderRadius: '7px', height: '200px', overflow: 'hidden', position: 'relative',\n                                justifyContent: 'space-between', display: 'flex', alignItems: 'center', flexDirection: 'column'\n                            }}>\n                                {Object.values(item.images) ?\n                                    <img style={{width: '100%', height: '100%', objectFit: 'cover'}} src={`https://cookery-app.herokuapp.com/reciepes/${item.images[0]}`} alt='food'/>\n                                    : <div style={{backgroundColor: 'black', width: '100%', height: '100%', position: 'relative'}}/>\n                                }\n                                <div className=\"overlay\">\n                                    <div className=\"text\">{item.title}</div>\n                                </div>\n                            </Paper>\n                        </Link>))\n                }\n            </div>\n            <div>\n                {!allRecipesBool && otherRecipes.length !== 0 && <h4 style={{marginTop: '36px'}}>Другие рецепты...</h4>}\n                <div style={css}>\n                    {!allRecipesBool &&\n                        otherRecipes.filter(item => !recipesIds.includes(item.id)).map(item => (\n                            <Link to={`/recipes/${item.id}/${allRecipesBool === 'starred' ? 'starred' : 'all'}`} key={item.id}>\n                                <Paper elevation={3} className=\"paper-recipe-box\" style={{\n                                    borderRadius: '7px', height: '200px', overflow: 'hidden', position: 'relative',\n                                    justifyContent: 'space-between', display: 'flex', alignItems: 'center', flexDirection: 'column'\n                                }}>\n                                    {Object.values(item.images) ?\n                                        <img style={{width: '100%', height: '100%', objectFit: 'cover'}} src={`https://cookery-app.herokuapp.com/reciepes/${item.images[0]}`} alt='food'/>\n                                        : <div style={{backgroundColor: 'black', width: '100%', height: '100%', position: 'relative'}}/>\n                                    }\n                                    <div className=\"overlay\">\n                                        <div className=\"text\">{item.title}</div>\n                                    </div>\n                                </Paper>\n                            </Link>\n                    ))}\n                </div>\n            </div>\n        </div>\n    )\n})\n\nexport const ListOfReciepes = ({otherRecipes, format, allRecipesBool, timeFilter, searchField}) => {\n    const [isLoading, setIsLoading] = useState(false);\n\n    return <Widget otherRecipes={otherRecipes} format={format} allRecipesBool={allRecipesBool} timeFilter={timeFilter}\n                isLoading={isLoading} setIsLoading={setIsLoading} searchField={searchField}/>\n}"]},"metadata":{},"sourceType":"module"}