{"ast":null,"code":"import { SET_USER_DATA, STAR_RECIPE } from './actions';\nconst initialState = {\n  loged: false,\n  id: null,\n  name: null,\n  mail: null,\n  likes: null,\n  recipes: [],\n  likedPostsIdes: []\n};\nexport const userReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case SET_USER_DATA:\n      {\n        return { ...state,\n          ...action.payload,\n          loged: true,\n          likedPostsIdes: JSON.parse(action.payload.likedPostsIdes) || []\n        };\n      }\n\n    case STAR_RECIPE:\n      {\n        switch (action.payload.starred) {\n          case true:\n            {\n              let likedPostIdesCopy = [...state.likedPostsIdes];\n              const index = likedPostIdesCopy.indexOf(+action.recipeId);\n              console.log(index);\n              console.log(likedPostIdesCopy);\n              console.log(+action.recipeId);\n\n              if (index > -1) {\n                likedPostIdesCopy.splice(index, 1);\n              }\n\n              return { ...state,\n                likedPostsIdes: likedPostIdesCopy\n              };\n            }\n\n          case false:\n            {\n              return { ...state,\n                likedPostsIdes: [...state.likedPostsIdes, +action.payload.recipeId]\n              };\n            }\n\n          default:\n            {\n              return state;\n            }\n        }\n      }\n\n    default:\n      {\n        return state;\n      }\n  }\n};","map":{"version":3,"sources":["/Users/samilvaliahmetov/education/programming/schoolProject/my-app/main/client/src/store/user/reducer.js"],"names":["SET_USER_DATA","STAR_RECIPE","initialState","loged","id","name","mail","likes","recipes","likedPostsIdes","userReducer","state","action","type","payload","JSON","parse","starred","likedPostIdesCopy","index","indexOf","recipeId","console","log","splice"],"mappings":"AAAA,SAASA,aAAT,EAAwBC,WAAxB,QAA2C,WAA3C;AAEA,MAAMC,YAAY,GAAG;AACjBC,EAAAA,KAAK,EAAE,KADU;AAEjBC,EAAAA,EAAE,EAAE,IAFa;AAGjBC,EAAAA,IAAI,EAAE,IAHW;AAIjBC,EAAAA,IAAI,EAAE,IAJW;AAKjBC,EAAAA,KAAK,EAAE,IALU;AAMjBC,EAAAA,OAAO,EAAE,EANQ;AAOjBC,EAAAA,cAAc,EAAE;AAPC,CAArB;AAUA,OAAO,MAAMC,WAAW,GAAG,YAAkC;AAAA,MAAjCC,KAAiC,uEAAzBT,YAAyB;AAAA,MAAXU,MAAW;;AACzD,UAAQA,MAAM,CAACC,IAAf;AACI,SAAKb,aAAL;AAAoB;AAChB,eAAO,EAAC,GAAGW,KAAJ;AAAW,aAAGC,MAAM,CAACE,OAArB;AACHX,UAAAA,KAAK,EAAE,IADJ;AACUM,UAAAA,cAAc,EAAEM,IAAI,CAACC,KAAL,CAAWJ,MAAM,CAACE,OAAP,CAAeL,cAA1B,KAA6C;AADvE,SAAP;AAEH;;AACD,SAAKR,WAAL;AAAkB;AACd,gBAAQW,MAAM,CAACE,OAAP,CAAeG,OAAvB;AACI,eAAK,IAAL;AAAW;AACP,kBAAIC,iBAAiB,GAAG,CAAC,GAAGP,KAAK,CAACF,cAAV,CAAxB;AACA,oBAAMU,KAAK,GAAGD,iBAAiB,CAACE,OAAlB,CAA0B,CAACR,MAAM,CAACS,QAAlC,CAAd;AACAC,cAAAA,OAAO,CAACC,GAAR,CAAYJ,KAAZ;AACAG,cAAAA,OAAO,CAACC,GAAR,CAAYL,iBAAZ;AACAI,cAAAA,OAAO,CAACC,GAAR,CAAY,CAACX,MAAM,CAACS,QAApB;;AACA,kBAAIF,KAAK,GAAG,CAAC,CAAb,EAAgB;AACZD,gBAAAA,iBAAiB,CAACM,MAAlB,CAAyBL,KAAzB,EAAgC,CAAhC;AACH;;AACD,qBAAO,EAAC,GAAGR,KAAJ;AAAWF,gBAAAA,cAAc,EAAES;AAA3B,eAAP;AACH;;AACD,eAAK,KAAL;AAAY;AACR,qBAAO,EAAC,GAAGP,KAAJ;AAAWF,gBAAAA,cAAc,EAAE,CAAC,GAAGE,KAAK,CAACF,cAAV,EAA0B,CAACG,MAAM,CAACE,OAAP,CAAeO,QAA1C;AAA3B,eAAP;AACH;;AACD;AAAS;AACL,qBAAOV,KAAP;AACH;AAjBL;AAmBH;;AACD;AAAS;AACL,eAAOA,KAAP;AACH;AA5BL;AA8BH,CA/BM","sourcesContent":["import { SET_USER_DATA, STAR_RECIPE } from './actions';\n\nconst initialState = {\n    loged: false,\n    id: null,\n    name: null,\n    mail: null,\n    likes: null,\n    recipes: [],\n    likedPostsIdes: [],\n}\n\nexport const userReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case SET_USER_DATA: {\n            return {...state, ...action.payload, \n                loged: true, likedPostsIdes: JSON.parse(action.payload.likedPostsIdes) || []}\n        }\n        case STAR_RECIPE: {\n            switch (action.payload.starred) {\n                case true: {\n                    let likedPostIdesCopy = [...state.likedPostsIdes]\n                    const index = likedPostIdesCopy.indexOf(+action.recipeId);\n                    console.log(index)\n                    console.log(likedPostIdesCopy)\n                    console.log(+action.recipeId)\n                    if (index > -1) {\n                        likedPostIdesCopy.splice(index, 1);\n                    }\n                    return {...state, likedPostsIdes: likedPostIdesCopy}\n                }\n                case false: {\n                    return {...state, likedPostsIdes: [...state.likedPostsIdes, +action.payload.recipeId]}\n                }\n                default: {\n                    return state\n                }\n            }\n        }\n        default: {\n            return state\n        }\n    }\n}"]},"metadata":{},"sourceType":"module"}