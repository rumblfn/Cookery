{"ast":null,"code":"import { TOGGLE_SELECTED_STATE } from './actions';\nimport { FILTER_PRODUCTS } from './actions';\nimport { ADD_ALL_PRODUCTS } from './actions';\nconst initialState = {\n  initialProducts: {},\n  products: {},\n  selectedProducts: {},\n  selectedProductsNames: []\n};\nexport const productsReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case ADD_ALL_PRODUCTS:\n      {\n        return { ...state,\n          products: { ...state.products,\n            ...action.payload\n          },\n          initialProducts: { ...state.products,\n            ...action.payload\n          }\n        };\n      }\n\n    case FILTER_PRODUCTS:\n      {\n        const newProducts = {};\n        initialState.products = { ...initialState.initialProducts\n        };\n\n        for (let item in initialState.products) {\n          if (initialState.products[item].name.includes(action.payload)) {\n            newProducts[item] = initialState.products[item];\n          }\n        }\n\n        return { ...state,\n          products: { ...newProducts\n          }\n        };\n      }\n\n    case TOGGLE_SELECTED_STATE:\n      {\n        const prods = { ...initialState.products\n        };\n        prods[action.payload].selected = !prods[action.payload].selected;\n        const newSelectedProducts = {};\n        const newSelectedProductsNames = [];\n\n        for (let item in initialState.products) {\n          if (initialState.products[item].selected) {\n            newSelectedProducts[item] = initialState.products[item];\n            newSelectedProductsNames.push(initialState.products[item].name);\n          }\n        }\n\n        console.log(newSelectedProducts);\n        return { ...state,\n          products: prods,\n          selectedProducts: newSelectedProducts,\n          selectedProductsNames: newSelectedProductsNames\n        };\n      }\n\n    default:\n      {\n        return state;\n      }\n  }\n};","map":{"version":3,"sources":["/Users/samilvaliahmetov/education/programming/schoolProject/my-app/main/client/src/store/products/reducer.js"],"names":["TOGGLE_SELECTED_STATE","FILTER_PRODUCTS","ADD_ALL_PRODUCTS","initialState","initialProducts","products","selectedProducts","selectedProductsNames","productsReducer","state","action","type","payload","newProducts","item","name","includes","prods","selected","newSelectedProducts","newSelectedProductsNames","push","console","log"],"mappings":"AAAA,SAASA,qBAAT,QAAsC,WAAtC;AACA,SAASC,eAAT,QAAgC,WAAhC;AACA,SAASC,gBAAT,QAAiC,WAAjC;AAEA,MAAMC,YAAY,GAAG;AACjBC,EAAAA,eAAe,EAAE,EADA;AAEjBC,EAAAA,QAAQ,EAAE,EAFO;AAGjBC,EAAAA,gBAAgB,EAAE,EAHD;AAIjBC,EAAAA,qBAAqB,EAAE;AAJN,CAArB;AAOA,OAAO,MAAMC,eAAe,GAAG,YAAkC;AAAA,MAAjCC,KAAiC,uEAAzBN,YAAyB;AAAA,MAAXO,MAAW;;AAC7D,UAAQA,MAAM,CAACC,IAAf;AACI,SAAKT,gBAAL;AAAuB;AACnB,eAAO,EACH,GAAGO,KADA;AAEHJ,UAAAA,QAAQ,EAAE,EAAC,GAAGI,KAAK,CAACJ,QAAV;AAAoB,eAAGK,MAAM,CAACE;AAA9B,WAFP;AAGHR,UAAAA,eAAe,EAAE,EAAC,GAAGK,KAAK,CAACJ,QAAV;AAAoB,eAAGK,MAAM,CAACE;AAA9B;AAHd,SAAP;AAKH;;AACD,SAAKX,eAAL;AAAsB;AAClB,cAAMY,WAAW,GAAG,EAApB;AACAV,QAAAA,YAAY,CAACE,QAAb,GAAwB,EAAC,GAAGF,YAAY,CAACC;AAAjB,SAAxB;;AACA,aAAK,IAAIU,IAAT,IAAiBX,YAAY,CAACE,QAA9B,EAAwC;AACpC,cAAIF,YAAY,CAACE,QAAb,CAAsBS,IAAtB,EAA4BC,IAA5B,CAAiCC,QAAjC,CAA0CN,MAAM,CAACE,OAAjD,CAAJ,EAA+D;AAC3DC,YAAAA,WAAW,CAACC,IAAD,CAAX,GAAoBX,YAAY,CAACE,QAAb,CAAsBS,IAAtB,CAApB;AACH;AACJ;;AACD,eAAO,EACH,GAAGL,KADA;AAEHJ,UAAAA,QAAQ,EAAE,EACN,GAAGQ;AADG;AAFP,SAAP;AAMH;;AACD,SAAKb,qBAAL;AAA4B;AACxB,cAAMiB,KAAK,GAAG,EAAC,GAAGd,YAAY,CAACE;AAAjB,SAAd;AACAY,QAAAA,KAAK,CAACP,MAAM,CAACE,OAAR,CAAL,CAAsBM,QAAtB,GAAiC,CAACD,KAAK,CAACP,MAAM,CAACE,OAAR,CAAL,CAAsBM,QAAxD;AAEA,cAAMC,mBAAmB,GAAG,EAA5B;AACA,cAAMC,wBAAwB,GAAG,EAAjC;;AACA,aAAK,IAAIN,IAAT,IAAiBX,YAAY,CAACE,QAA9B,EAAwC;AACpC,cAAIF,YAAY,CAACE,QAAb,CAAsBS,IAAtB,EAA4BI,QAAhC,EAA0C;AACtCC,YAAAA,mBAAmB,CAACL,IAAD,CAAnB,GAA4BX,YAAY,CAACE,QAAb,CAAsBS,IAAtB,CAA5B;AACAM,YAAAA,wBAAwB,CAACC,IAAzB,CAA8BlB,YAAY,CAACE,QAAb,CAAsBS,IAAtB,EAA4BC,IAA1D;AACH;AACJ;;AACDO,QAAAA,OAAO,CAACC,GAAR,CAAYJ,mBAAZ;AAEA,eAAO,EACH,GAAGV,KADA;AAEHJ,UAAAA,QAAQ,EAAEY,KAFP;AAGHX,UAAAA,gBAAgB,EAAEa,mBAHf;AAIHZ,UAAAA,qBAAqB,EAAEa;AAJpB,SAAP;AAMH;;AACD;AAAS;AACL,eAAOX,KAAP;AACH;AA9CL;AAgDH,CAjDM","sourcesContent":["import { TOGGLE_SELECTED_STATE } from './actions';\nimport { FILTER_PRODUCTS } from './actions';\nimport { ADD_ALL_PRODUCTS } from './actions';\n\nconst initialState = {\n    initialProducts: {},\n    products: {},\n    selectedProducts: {},\n    selectedProductsNames: []\n}\n\nexport const productsReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case ADD_ALL_PRODUCTS: {\n            return {\n                ...state, \n                products: {...state.products, ...action.payload}, \n                initialProducts: {...state.products, ...action.payload},\n            }\n        }\n        case FILTER_PRODUCTS: {\n            const newProducts = {}\n            initialState.products = {...initialState.initialProducts}\n            for (let item in initialState.products) {\n                if (initialState.products[item].name.includes(action.payload)) {\n                    newProducts[item] = initialState.products[item]\n                }\n            }\n            return {\n                ...state,\n                products: {\n                    ...newProducts\n                }\n            }\n        }\n        case TOGGLE_SELECTED_STATE: {\n            const prods = {...initialState.products}\n            prods[action.payload].selected = !prods[action.payload].selected\n\n            const newSelectedProducts = {}\n            const newSelectedProductsNames = []\n            for (let item in initialState.products) {\n                if (initialState.products[item].selected) {\n                    newSelectedProducts[item] = initialState.products[item]\n                    newSelectedProductsNames.push(initialState.products[item].name)\n                }\n            }\n            console.log(newSelectedProducts)\n\n            return {\n                ...state,\n                products: prods,\n                selectedProducts: newSelectedProducts,\n                selectedProductsNames: newSelectedProductsNames\n            }\n        }\n        default: {\n            return state\n        }\n    }\n}"]},"metadata":{},"sourceType":"module"}