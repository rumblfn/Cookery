{"ast":null,"code":"import { SET_USER_DATA, STAR_RECIPE, CHANGE_IMAGE } from './actions';\nconst initialState = {\n  loged: false,\n  id: null,\n  name: null,\n  mail: null,\n  likes: null,\n  recipes: [],\n  likedPostsIdes: []\n};\nexport const userReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case CHANGE_IMAGE:\n      {\n        return { ...state,\n          image: action.payload\n        };\n      }\n\n    case SET_USER_DATA:\n      {\n        if (action.payload.likedPostsIdes === null) {\n          return { ...state,\n            ...action.payload,\n            loged: true,\n            likedPostsIdes: []\n          };\n        }\n\n        return { ...state,\n          ...action.payload,\n          loged: true,\n          likedPostsIdes: action.payload.likedPostsIdes.split(';') || []\n        };\n      }\n\n    case STAR_RECIPE:\n      {\n        switch (action.payload.starred) {\n          case true:\n            {\n              let likedPostIdesCopy = [...state.likedPostsIdes];\n              const index = likedPostIdesCopy.indexOf(action.payload.recipeId);\n\n              if (index > -1) {\n                likedPostIdesCopy.splice(index, 1);\n              }\n\n              return { ...state,\n                likedPostsIdes: likedPostIdesCopy\n              };\n            }\n\n          case false:\n            {\n              return { ...state,\n                likedPostsIdes: [...state.likedPostsIdes, action.payload.recipeId]\n              };\n            }\n\n          default:\n            {\n              return state;\n            }\n        }\n      }\n\n    default:\n      {\n        return state;\n      }\n  }\n};","map":{"version":3,"sources":["/Users/samilvaliahmetov/education/programming/schoolProject/my-app/main/client/src/store/user/reducer.js"],"names":["SET_USER_DATA","STAR_RECIPE","CHANGE_IMAGE","initialState","loged","id","name","mail","likes","recipes","likedPostsIdes","userReducer","state","action","type","image","payload","split","starred","likedPostIdesCopy","index","indexOf","recipeId","splice"],"mappings":"AAAA,SAASA,aAAT,EAAwBC,WAAxB,EAAqCC,YAArC,QAAyD,WAAzD;AAEA,MAAMC,YAAY,GAAG;AACjBC,EAAAA,KAAK,EAAE,KADU;AAEjBC,EAAAA,EAAE,EAAE,IAFa;AAGjBC,EAAAA,IAAI,EAAE,IAHW;AAIjBC,EAAAA,IAAI,EAAE,IAJW;AAKjBC,EAAAA,KAAK,EAAE,IALU;AAMjBC,EAAAA,OAAO,EAAE,EANQ;AAOjBC,EAAAA,cAAc,EAAE;AAPC,CAArB;AAUA,OAAO,MAAMC,WAAW,GAAG,YAAkC;AAAA,MAAjCC,KAAiC,uEAAzBT,YAAyB;AAAA,MAAXU,MAAW;;AACzD,UAAQA,MAAM,CAACC,IAAf;AACI,SAAKZ,YAAL;AAAmB;AACf,eAAO,EAAC,GAAGU,KAAJ;AAAWG,UAAAA,KAAK,EAAEF,MAAM,CAACG;AAAzB,SAAP;AACH;;AACD,SAAKhB,aAAL;AAAoB;AAChB,YAAIa,MAAM,CAACG,OAAP,CAAeN,cAAf,KAAkC,IAAtC,EAA4C;AACxC,iBAAO,EAAC,GAAGE,KAAJ;AAAW,eAAGC,MAAM,CAACG,OAArB;AACHZ,YAAAA,KAAK,EAAE,IADJ;AACUM,YAAAA,cAAc,EAAE;AAD1B,WAAP;AAEH;;AAAG,eAAO,EAAC,GAAGE,KAAJ;AAAW,aAAGC,MAAM,CAACG,OAArB;AACXZ,UAAAA,KAAK,EAAE,IADI;AACEM,UAAAA,cAAc,EAAEG,MAAM,CAACG,OAAP,CAAeN,cAAf,CAA8BO,KAA9B,CAAoC,GAApC,KAA4C;AAD9D,SAAP;AAEP;;AACD,SAAKhB,WAAL;AAAkB;AACd,gBAAQY,MAAM,CAACG,OAAP,CAAeE,OAAvB;AACI,eAAK,IAAL;AAAW;AACP,kBAAIC,iBAAiB,GAAG,CAAC,GAAGP,KAAK,CAACF,cAAV,CAAxB;AACA,oBAAMU,KAAK,GAAGD,iBAAiB,CAACE,OAAlB,CAA0BR,MAAM,CAACG,OAAP,CAAeM,QAAzC,CAAd;;AACA,kBAAIF,KAAK,GAAG,CAAC,CAAb,EAAgB;AACZD,gBAAAA,iBAAiB,CAACI,MAAlB,CAAyBH,KAAzB,EAAgC,CAAhC;AACH;;AACD,qBAAO,EAAC,GAAGR,KAAJ;AAAWF,gBAAAA,cAAc,EAAES;AAA3B,eAAP;AACH;;AACD,eAAK,KAAL;AAAY;AACR,qBAAO,EAAC,GAAGP,KAAJ;AAAWF,gBAAAA,cAAc,EAAE,CAAC,GAAGE,KAAK,CAACF,cAAV,EAA0BG,MAAM,CAACG,OAAP,CAAeM,QAAzC;AAA3B,eAAP;AACH;;AACD;AAAS;AACL,qBAAOV,KAAP;AACH;AAdL;AAgBH;;AACD;AAAS;AACL,eAAOA,KAAP;AACH;AA/BL;AAiCH,CAlCM","sourcesContent":["import { SET_USER_DATA, STAR_RECIPE, CHANGE_IMAGE } from './actions';\n\nconst initialState = {\n    loged: false,\n    id: null,\n    name: null,\n    mail: null,\n    likes: null,\n    recipes: [],\n    likedPostsIdes: [],\n}\n\nexport const userReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case CHANGE_IMAGE: {\n            return {...state, image: action.payload}\n        }\n        case SET_USER_DATA: {\n            if (action.payload.likedPostsIdes === null) {\n                return {...state, ...action.payload, \n                    loged: true, likedPostsIdes: []}\n            }   return {...state, ...action.payload, \n            loged: true, likedPostsIdes: action.payload.likedPostsIdes.split(';') || []}\n        }\n        case STAR_RECIPE: {\n            switch (action.payload.starred) {\n                case true: {\n                    let likedPostIdesCopy = [...state.likedPostsIdes]\n                    const index = likedPostIdesCopy.indexOf(action.payload.recipeId);\n                    if (index > -1) {\n                        likedPostIdesCopy.splice(index, 1);\n                    }\n                    return {...state, likedPostsIdes: likedPostIdesCopy}\n                }\n                case false: {\n                    return {...state, likedPostsIdes: [...state.likedPostsIdes, action.payload.recipeId]}\n                }\n                default: {\n                    return state\n                }\n            }\n        }\n        default: {\n            return state\n        }\n    }\n}"]},"metadata":{},"sourceType":"module"}