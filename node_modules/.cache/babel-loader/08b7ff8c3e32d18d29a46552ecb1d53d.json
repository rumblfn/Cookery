{"ast":null,"code":"import Paper from'@mui/material/Paper';import Typography from'@mui/material/Typography';import useMediaQuery from'@mui/material/useMediaQuery';import'./style.css';import Axios from'axios';import{useDispatch}from'react-redux';import{setUserProfileImage}from'../../store/user/actions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var PersonalInformation=function PersonalInformation(_ref){var userId=_ref.userId,image=_ref.image,mail=_ref.mail,name=_ref.name,likes=_ref.likes;var dispatch=useDispatch();var css={display:'flex',justifyContent:'space-between',margin:'1%'};if(useMediaQuery('(max-width:525px)')){css={display:'flex',flexDirection:'column',margin:'2%'};}function encodeImageFileAsURL(element){try{var file=element.files[0];var reader=new FileReader();reader.onloadend=function(){dispatch(setUserProfileImage(reader.result));Axios.post('https://cookery-app.herokuapp.com/user/image/upload',{imageBase64:reader.result,userId:userId}).then(function(result){console.log(result);});};reader.readAsDataURL(file);}catch(err){console.log(err);}}var handleUploadedFileImage=function handleUploadedFileImage(e){encodeImageFileAsURL(e.target);};return/*#__PURE__*/_jsxs(\"div\",{style:css,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\" \\u041B\\u0438\\u0447\\u043D\\u0430\\u044F \\u0438\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0438\\u044F \"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Paper,{elevation:2,sx:{p:2,mb:2},children:/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:mail})})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Paper,{elevation:2,sx:{p:2},children:/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:name})})})]}),/*#__PURE__*/_jsx(\"div\",{style:{marginLeft:'2%',marginTop:'3%'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"profileImgWrap\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"profileImg\",style:{borderRadius:'15px'},src:image?image:\"https://picsum.photos/200\",alt:\"profile\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"file-upload\",className:\"custom-file-upload\",children:\"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044C\"}),/*#__PURE__*/_jsx(\"input\",{id:\"file-upload\",type:\"file\",onChange:function onChange(e){handleUploadedFileImage(e);}})]})})]});};","map":{"version":3,"sources":["/Users/samilvaliahmetov/education/programming/schoolProject/my-app/main/client/src/components/PersonalInformation/info.js"],"names":["Paper","Typography","useMediaQuery","Axios","useDispatch","setUserProfileImage","PersonalInformation","userId","image","mail","name","likes","dispatch","css","display","justifyContent","margin","flexDirection","encodeImageFileAsURL","element","file","files","reader","FileReader","onloadend","result","post","imageBase64","then","console","log","readAsDataURL","err","handleUploadedFileImage","e","target","p","mb","marginLeft","marginTop","borderRadius"],"mappings":"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","sourcesContent":["import Paper from '@mui/material/Paper';\nimport Typography from '@mui/material/Typography';\nimport useMediaQuery from '@mui/material/useMediaQuery';\nimport './style.css';\nimport Axios from 'axios';\nimport { useDispatch } from 'react-redux';\nimport { setUserProfileImage } from '../../store/user/actions';\n\n\nexport const PersonalInformation = ({userId, image, mail, name, likes}) => {\n    const dispatch = useDispatch();\n    let css = { display: 'flex', justifyContent: 'space-between', margin: '1%' }\n\n    if (useMediaQuery('(max-width:525px)')) {\n        css = { display: 'flex', flexDirection: 'column', margin: '2%' }\n    }\n\n    function encodeImageFileAsURL(element) {\n        try {\n            let file = element.files[0];\n            let reader = new FileReader();\n            reader.onloadend = function() {\n            dispatch(setUserProfileImage(reader.result))\n            Axios.post('https://cookery-app.herokuapp.com/user/image/upload', {\n                imageBase64: reader.result,\n                userId\n            }).then((result) => {console.log(result);})}\n            reader.readAsDataURL(file);\n        } catch (err) {\n            console.log(err)\n    }}\n\n    const handleUploadedFileImage = (e) => {\n        encodeImageFileAsURL(e.target)}\n\n    return (\n        <div style={css}>\n            <div>\n                <h2> Личная информация </h2>\n                <div>\n                    <Paper elevation={2} sx={{p: 2, mb: 2}}>\n                        <Typography variant=\"h6\">\n                            {mail}\n                        </Typography>\n                    </Paper>\n                </div>\n                <div>\n                    <Paper elevation={2} sx={{p: 2}}>\n                        <Typography variant=\"h6\">\n                            {name}\n                        </Typography>\n                    </Paper>\n                </div>\n            </div>\n            <div style={{marginLeft: '2%', marginTop: '3%'}}>\n                <div className='profileImgWrap'>\n                    <img className=\"profileImg\" style={{borderRadius: '15px'}}\n                        src={image ? image : \"https://picsum.photos/200\"} alt='profile' />\n                    <label htmlFor=\"file-upload\" className=\"custom-file-upload\">\n                        Загрузить\n                    </label>\n                    <input id=\"file-upload\" type=\"file\" onChange={e => {handleUploadedFileImage(e)}}/>\n                </div>\n            </div>\n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}