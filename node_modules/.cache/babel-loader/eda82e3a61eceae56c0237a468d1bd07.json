{"ast":null,"code":"import _slicedToArray from\"/Users/samilvaliahmetov/education/programming/local-github/Cookery/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{recipesConnect}from\"../../connect/recipes/recipes\";import Paper from'@mui/material/Paper';import{Link}from'react-router-dom';import{useState,useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import Axios from'axios';import{setRecipesWithAPI}from\"../../store/recipes\";import CircularProgress from'@mui/material/CircularProgress';import Button from\"@mui/material/Button\";import AddRoundedIcon from'@mui/icons-material/AddRounded';import'./style.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var loadingDivCss={textAlign:'center',padding:'32px 0'};export var Widget=function Widget(_ref){var userRecipes=_ref.userRecipes,largePhone=_ref.largePhone;var userId=useSelector(function(state){return state.user.id;});var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];var selector=useSelector(function(state){return state.recipes.userRecipes;});var dispatch=useDispatch();var css={display:'grid',gridTemplateColumns:'1fr 1fr 1fr',gap:'10px'};if(largePhone){css.gridTemplateColumns='1fr 1fr';}useEffect(function(){if(Object.values(selector).length===0){setIsLoading(true);Axios.get('/user/reciepes/get',{params:{id:userId}}).then(function(response){setIsLoading(false);dispatch(setRecipesWithAPI(response.data));});}},[]);console.log(userRecipes);return/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'32px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',marginBottom:'16px'},children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\u0412\\u0430\\u0448\\u0438 \\u0440\\u0435\\u0446\\u0435\\u043F\\u0442\\u044B\"}),/*#__PURE__*/_jsx(Link,{to:\"/profile/create\",children:/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"outlined\",style:{marginLeft:'12px',borderColor:\"#000000\",color:'#000000'},children:/*#__PURE__*/_jsx(AddRoundedIcon,{})})})]}),/*#__PURE__*/_jsx(\"div\",{children:Object.values(userRecipes).length?isLoading?/*#__PURE__*/_jsx(\"div\",{style:loadingDivCss,children:/*#__PURE__*/_jsx(CircularProgress,{sx:{color:'black'}})}):/*#__PURE__*/_jsx(\"div\",{style:css,className:\"profile-recipes-view\",children:Object.values(userRecipes).map(function(item){return/*#__PURE__*/_jsx(Link,{to:\"/recipes/\".concat(item.id,\"/profile\"),children:/*#__PURE__*/_jsxs(Paper,{elevation:3,className:\"paper-recipe-box\",style:{borderRadius:'7px',height:'200px',overflow:'hidden',position:'relative',justifyContent:'space-between',display:'flex',alignItems:'center',flexDirection:'column'},children:[Object.values(item.images).length>0?/*#__PURE__*/_jsx(\"img\",{style:{width:'100%',height:'100%',objectFit:'cover'},src:\"/reciepes/\".concat(item.images[0]),alt:\"food\"}):/*#__PURE__*/_jsx(\"div\",{style:{backgroundColor:'black',width:'100%',height:'100%',position:'relative'}}),/*#__PURE__*/_jsx(\"div\",{className:\"overlay\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text\",children:item.title})})]})},item.id);})}):/*#__PURE__*/_jsx(\"div\",{className:\"selectedProductsEmpty\",style:{textAlign:'center',margin:'1%',border:'2px dashed black',borderRadius:'8px'},children:/*#__PURE__*/_jsx(\"h6\",{style:{margin:'48px 0'},children:\"\\u0421\\u043F\\u0438\\u0441\\u043E\\u043A \\u0440\\u0435\\u0446\\u0435\\u043F\\u0442\\u043E\\u0432 \\u043F\\u0443\\u0441\\u0442\"})})})]});};export var UserRecipes=recipesConnect(Widget);","map":{"version":3,"sources":["/Users/samilvaliahmetov/education/programming/local-github/Cookery/src/components/usersRecipes/usersRecipes.js"],"names":["recipesConnect","Paper","Link","useState","useEffect","useDispatch","useSelector","Axios","setRecipesWithAPI","CircularProgress","Button","AddRoundedIcon","loadingDivCss","textAlign","padding","Widget","userRecipes","largePhone","userId","state","user","id","isLoading","setIsLoading","selector","recipes","dispatch","css","display","gridTemplateColumns","gap","Object","values","length","get","params","then","response","data","console","log","marginTop","marginBottom","marginLeft","borderColor","color","map","item","borderRadius","height","overflow","position","justifyContent","alignItems","flexDirection","images","width","objectFit","backgroundColor","title","margin","border","UserRecipes"],"mappings":"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","sourcesContent":["import { recipesConnect } from \"../../connect/recipes/recipes\"\nimport Paper from '@mui/material/Paper';\nimport { Link } from 'react-router-dom';\nimport { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Axios from 'axios';\nimport { setRecipesWithAPI } from \"../../store/recipes\";\nimport CircularProgress from '@mui/material/CircularProgress';\nimport Button from \"@mui/material/Button\";\nimport AddRoundedIcon from '@mui/icons-material/AddRounded';\nimport './style.css';\n\nconst loadingDivCss = {textAlign: 'center', padding: '32px 0'}\n\nexport const Widget = ({userRecipes, largePhone}) => {\n    const userId = useSelector((state) => state.user.id);\n    const [isLoading, setIsLoading] = useState(false);\n    const selector = useSelector((state) => state.recipes.userRecipes);\n    const dispatch = useDispatch()\n\n    const css = {display: 'grid', gridTemplateColumns: '1fr 1fr 1fr', gap: '10px'}\n    if (largePhone) { css.gridTemplateColumns = '1fr 1fr' }\n\n    useEffect(() => {\n        if (Object.values(selector).length === 0) {\n            setIsLoading(true)\n            Axios.get('/user/reciepes/get', {\n                params: { id: userId }\n            }).then((response) => {\n                setIsLoading(false)\n                dispatch(setRecipesWithAPI(response.data))\n            })\n        }\n    }, [])\n    console.log(userRecipes)\n\n    return (\n        <div style={{marginTop: '32px'}}>\n            <div style={{ display: 'flex', marginBottom: '16px' }}>\n            <h4>Ваши рецепты</h4>\n            <Link to='/profile/create'>\n                <Button type=\"submit\" variant=\"outlined\"\n                    style={{\n                        marginLeft: '12px',\n                        borderColor: \"#000000\",\n                        color: '#000000',\n                }}>\n                    <AddRoundedIcon/>\n                </Button>\n            </Link>\n        </div>\n            <div>\n            {Object.values(userRecipes).length ? \n                isLoading ? \n                    <div style={loadingDivCss}>\n                        <CircularProgress sx={{color: 'black'}}/>\n                    </div> \n                    :<div style={css} className=\"profile-recipes-view\">\n                        {Object.values(userRecipes).map(item => (\n                        <Link key={item.id} to={`/recipes/${item.id}/profile`}>\n                            <Paper elevation={3} className=\"paper-recipe-box\" style={{\n                                borderRadius: '7px', height: '200px', overflow: 'hidden', position: 'relative',\n                                justifyContent: 'space-between', display: 'flex', alignItems: 'center', flexDirection: 'column'\n                            }}>\n                                {Object.values(item.images).length > 0 ? \n                                    <img style={{width: '100%', height: '100%', objectFit: 'cover'}} src={`/reciepes/${item.images[0]}`} alt='food'/>\n                                    : <div style={{backgroundColor: 'black', width: '100%', height: '100%', position: 'relative'}}/>\n                                }\n                                <div className=\"overlay\">\n                                    <div className=\"text\">{item.title}</div>\n                                </div>\n                            </Paper>\n                        </Link>))}\n                    </div> \n                :<div className=\"selectedProductsEmpty\" style={{textAlign: 'center', margin: '1%', border: '2px dashed black', borderRadius: '8px'}}>\n                    <h6 style={{margin: '48px 0'}}>Список рецептов пуст</h6>\n                </div>}\n            </div>\n        </div>\n    )\n}\n\nexport const UserRecipes = recipesConnect(Widget)"]},"metadata":{},"sourceType":"module"}