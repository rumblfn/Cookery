{"ast":null,"code":"var _jsxFileName = \"/Users/samilvaliahmetov/education/programming/schoolProject/my-app/main/client/src/components/HomePage/listOfReciepes/listOfReciepes.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport { recipesConnect } from \"../../../connect/recipes/recipes\";\nimport Paper from '@mui/material/Paper';\nimport { Link } from 'react-router-dom';\nimport { useState, useEffect } from 'react';\nimport Axios from 'axios';\nimport { Search } from '../../../components/searchLine/index';\nimport { useSelector } from 'react-redux';\nimport \"./style.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet css = {\n  display: 'grid',\n  gridTemplateColumns: '1fr 1fr',\n  gap: '16px',\n  marginTop: '48px'\n};\nexport const Widget = recipesConnect(_c = _s(_ref => {\n  _s();\n\n  let {\n    timeFilter,\n    searchField,\n    setSearchField,\n    format,\n    allRecipesBool,\n    userRecipes,\n    setRicepes,\n    setIsLoading,\n    recipes,\n    selectedProducts\n  } = _ref;\n  let newRecipes = {};\n\n  if (allRecipesBool) {\n    if (format === 'computer') {\n      css = { ...css,\n        gridTemplateColumns: '1fr 1fr 1fr 1fr'\n      };\n    } else if (format === 'laptop') {\n      css = { ...css,\n        gridTemplateColumns: '1fr 1fr 1fr'\n      };\n    } else if (format === 'tablet') {\n      css = { ...css,\n        gridTemplateColumns: '1fr 1fr 1fr'\n      };\n    } else if (format === 'tablet2') {\n      css = { ...css,\n        gridTemplateColumns: '1fr 1fr'\n      };\n    } else if (format === 'phone') {\n      css = { ...css,\n        gridTemplateColumns: '1fr'\n      };\n    }\n\n    if (allRecipesBool === 'starred') {\n      newRecipes = useSelector(state => state.recipes.starred_recipes);\n    } else {\n      newRecipes = { ...recipes\n      };\n    }\n  } else {\n    if (format === 'computer') {\n      css = { ...css,\n        gridTemplateColumns: '1fr 1fr 1fr'\n      };\n    } else if (format === 'laptop') {\n      css = { ...css,\n        gridTemplateColumns: '1fr 1fr'\n      };\n    } else if (format === 'tablet') {\n      css = { ...css,\n        gridTemplateColumns: '1fr 1fr'\n      };\n    } else if (format === 'tablet2') {\n      css = { ...css,\n        gridTemplateColumns: '1fr'\n      };\n    } else if (format === 'phone') {\n      css = { ...css,\n        gridTemplateColumns: '1fr'\n      };\n    }\n\n    useEffect(() => {\n      if (Object.keys(recipes).length <= Object.keys(userRecipes).length) {\n        setIsLoading(true);\n        Axios.get('/recipes/get').then(response => {\n          setRicepes(response.data);\n          setIsLoading(false);\n        });\n      }\n    }, []);\n\n    const isEmpty = obj => {\n      for (let key in obj) {\n        return true;\n      }\n\n      return false;\n    };\n\n    const checkProductsInRecipe = (recipe, prods) => {\n      for (let key in prods) {\n        if (recipe.lstOfProducts.includes(prods[key].name.toLowerCase())) {\n          return true;\n        }\n      }\n\n      return false;\n    };\n\n    if (isEmpty(selectedProducts)) {\n      for (let recipe in recipes) {\n        if (checkProductsInRecipe(recipes[recipe], selectedProducts)) {\n          newRecipes[recipe] = { ...recipes[recipe]\n          };\n        }\n      }\n    }\n  }\n\n  const setSearchFieldFunc = val => {\n    setSearchField(val);\n  };\n\n  const recipesPreparation = [...Object.values(newRecipes)];\n\n  if (timeFilter === -1) {\n    recipesPreparation.sort(function (recipe1, recipe2) {\n      const splitted_time1 = recipe1.time.split(':');\n      const splitted_time2 = recipe2.time.split(':');\n      console.log(splitted_time1);\n      console.log(+splitted_time1[0] * 60 + +splitted_time1[1]);\n      console.log(+splitted_time2[0] * 60 + +splitted_time2[1]);\n      return +splitted_time1[0] * 60 + +splitted_time1[1] - +splitted_time2[0] * 60 + +splitted_time2[1];\n    });\n  } else if (timeFilter === 1) {\n    recipesPreparation.sort(function (recipe1, recipe2) {\n      const splitted_time1 = recipe1.time.split(':');\n      const splitted_time2 = recipe2.time.split(':');\n      console.log(splitted_time1);\n      console.log(+splitted_time1[0] * 60 + +splitted_time1[1]);\n      console.log(+splitted_time2[0] * 60 + +splitted_time2[1]);\n      return +splitted_time2[0] * 60 + +splitted_time2[1] - +splitted_time1[0] * 60 + +splitted_time1[1];\n    });\n  }\n\n  console.log(recipesPreparation);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: css,\n      children: recipesPreparation.map(item => /*#__PURE__*/_jsxDEV(Link, {\n        to: `/recipes/${item.id}/${allRecipesBool === 'starred' ? 'starred' : 'all'}`,\n        children: /*#__PURE__*/_jsxDEV(Paper, {\n          elevation: 3,\n          className: \"paper-recipe-box\",\n          style: {\n            borderRadius: '7px',\n            height: '200px',\n            overflow: 'hidden',\n            position: 'relative',\n            justifyContent: 'space-between',\n            display: 'flex',\n            alignItems: 'center',\n            flexDirection: 'column'\n          },\n          children: [Object.values(item.images) ? /*#__PURE__*/_jsxDEV(\"img\", {\n            style: {\n              width: '100%',\n              height: '100%',\n              objectFit: 'cover'\n            },\n            src: `/reciepes/${item.images[0]}`,\n            alt: \"food\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 33\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              backgroundColor: 'black',\n              width: '100%',\n              height: '100%',\n              position: 'relative'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 35\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"overlay\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text\",\n              children: item.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 25\n        }, this)\n      }, item.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 91,\n    columnNumber: 9\n  }, this);\n}, \"DFwQXUwyTYLg5R7cAQS9W3NcS6A=\", false, function () {\n  return [useSelector];\n}));\n_c2 = Widget;\nexport const ListOfReciepes = _ref2 => {\n  _s2();\n\n  let {\n    format,\n    allRecipesBool,\n    timeFilter\n  } = _ref2;\n  const [isLoading, setIsLoading] = useState(false);\n  const [searchField, setSearchField] = useState('');\n  return /*#__PURE__*/_jsxDEV(Widget, {\n    format: format,\n    allRecipesBool: allRecipesBool,\n    timeFilter: timeFilter,\n    isLoading: isLoading,\n    setIsLoading: setIsLoading,\n    searchField: searchField,\n    setSearchField: setSearchField\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 118,\n    columnNumber: 12\n  }, this);\n};\n\n_s2(ListOfReciepes, \"8rUKtKntOujmdNi1pPyJXlEaCGo=\");\n\n_c3 = ListOfReciepes;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"Widget$recipesConnect\");\n$RefreshReg$(_c2, \"Widget\");\n$RefreshReg$(_c3, \"ListOfReciepes\");","map":{"version":3,"sources":["/Users/samilvaliahmetov/education/programming/schoolProject/my-app/main/client/src/components/HomePage/listOfReciepes/listOfReciepes.js"],"names":["recipesConnect","Paper","Link","useState","useEffect","Axios","Search","useSelector","css","display","gridTemplateColumns","gap","marginTop","Widget","timeFilter","searchField","setSearchField","format","allRecipesBool","userRecipes","setRicepes","setIsLoading","recipes","selectedProducts","newRecipes","state","starred_recipes","Object","keys","length","get","then","response","data","isEmpty","obj","key","checkProductsInRecipe","recipe","prods","lstOfProducts","includes","name","toLowerCase","setSearchFieldFunc","val","recipesPreparation","values","sort","recipe1","recipe2","splitted_time1","time","split","splitted_time2","console","log","map","item","id","borderRadius","height","overflow","position","justifyContent","alignItems","flexDirection","images","width","objectFit","backgroundColor","title","ListOfReciepes","isLoading"],"mappings":"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","sourcesContent":["import { recipesConnect } from \"../../../connect/recipes/recipes\"\nimport Paper from '@mui/material/Paper';\nimport { Link } from 'react-router-dom';\nimport { useState, useEffect } from 'react';\nimport Axios from 'axios';\nimport { Search } from '../../../components/searchLine/index'\nimport { useSelector } from 'react-redux';\nimport \"./style.css\";\n\nlet css = {display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '16px', marginTop: '48px'}\n\nexport const Widget = recipesConnect(({timeFilter, searchField, setSearchField, format, allRecipesBool, userRecipes, setRicepes, setIsLoading, recipes, selectedProducts}) => {\n    let newRecipes = {}\n\n    if (allRecipesBool) {\n\n        if (format === 'computer') { css = {...css, gridTemplateColumns: '1fr 1fr 1fr 1fr'}\n        } else if (format === 'laptop') { css = {...css, gridTemplateColumns: '1fr 1fr 1fr'}\n        } else if (format === 'tablet') { css = {...css, gridTemplateColumns: '1fr 1fr 1fr'}\n        } else if (format === 'tablet2') { css = {...css, gridTemplateColumns: '1fr 1fr'}\n        } else if (format === 'phone') { css = {...css, gridTemplateColumns: '1fr'}\n        } \n\n        if (allRecipesBool === 'starred') {\n            newRecipes = useSelector(state => state.recipes.starred_recipes)\n        } else {\n            newRecipes = {...recipes}\n        }\n\n    } else {\n\n        if (format === 'computer') { css = {...css, gridTemplateColumns: '1fr 1fr 1fr'}\n        } else if (format === 'laptop') { css = {...css, gridTemplateColumns: '1fr 1fr'}\n        } else if (format === 'tablet') { css = {...css, gridTemplateColumns: '1fr 1fr'}\n        } else if (format === 'tablet2') { css = {...css, gridTemplateColumns: '1fr'}\n        } else if (format === 'phone') { css = {...css, gridTemplateColumns: '1fr'} }\n\n        useEffect(() => {\n            if (Object.keys(recipes).length <= Object.keys(userRecipes).length) {\n                setIsLoading(true)\n                Axios.get('/recipes/get')\n                    .then((response) => {\n                        setRicepes(response.data)\n                        setIsLoading(false)\n                    }\n                )\n            }\n        }, [])\n    \n        const isEmpty = (obj) => { for (let key in obj) { return true } return false }\n    \n        const checkProductsInRecipe = (recipe, prods) => {\n            for (let key in prods) {\n                if (recipe.lstOfProducts.includes(prods[key].name.toLowerCase())) {\n                    return true\n                }} return false }\n        \n        if (isEmpty(selectedProducts)) {\n            for (let recipe in recipes) {\n                if (checkProductsInRecipe(recipes[recipe], selectedProducts)) {\n                    newRecipes[recipe] = {...recipes[recipe]}}}}}\n    \n    const setSearchFieldFunc = (val) => {\n        setSearchField(val)\n    }\n\n    const recipesPreparation = [...Object.values(newRecipes)]\n    if (timeFilter === - 1) {\n        recipesPreparation.sort(function (recipe1, recipe2) {\n            const splitted_time1 = recipe1.time.split(':')\n            const splitted_time2 = recipe2.time.split(':')\n            console.log(splitted_time1)\n            console.log(+splitted_time1[0] * 60 + +splitted_time1[1])\n            console.log(+splitted_time2[0] * 60 + +splitted_time2[1])\n            return +splitted_time1[0] * 60 + +splitted_time1[1] - +splitted_time2[0] * 60 + +splitted_time2[1]\n        })\n    } else if (timeFilter === 1) {\n        recipesPreparation.sort(function (recipe1, recipe2) {\n            const splitted_time1 = recipe1.time.split(':')\n            const splitted_time2 = recipe2.time.split(':')\n            console.log(splitted_time1)\n            console.log(+splitted_time1[0] * 60 + +splitted_time1[1])\n            console.log(+splitted_time2[0] * 60 + +splitted_time2[1])\n            return +splitted_time2[0] * 60 + +splitted_time2[1] - +splitted_time1[0] * 60 + +splitted_time1[1]\n        })\n    }\n    console.log(recipesPreparation)\n\n\n    return (\n        <div>\n            <div style={css}>\n                {recipesPreparation.map(item => (\n                    <Link to={`/recipes/${item.id}/${allRecipesBool === 'starred' ? 'starred' : 'all'}`} key={item.id}>\n                        <Paper elevation={3} className=\"paper-recipe-box\" style={{\n                            borderRadius: '7px', height: '200px', overflow: 'hidden', position: 'relative',\n                            justifyContent: 'space-between', display: 'flex', alignItems: 'center', flexDirection: 'column'\n                        }}>\n                            {Object.values(item.images) ? \n                                <img style={{width: '100%', height: '100%', objectFit: 'cover'}} src={`/reciepes/${item.images[0]}`} alt='food'/>\n                                : <div style={{backgroundColor: 'black', width: '100%', height: '100%', position: 'relative'}}/>\n                            }\n                            <div className=\"overlay\">\n                                <div className=\"text\">{item.title}</div>\n                            </div>\n                        </Paper>\n                    </Link>\n                ))}\n            </div>\n        </div>\n    )\n})\n\nexport const ListOfReciepes = ({format, allRecipesBool, timeFilter}) => {\n    const [isLoading, setIsLoading] = useState(false);\n    const [searchField, setSearchField] = useState('')\n\n    return <Widget format={format} allRecipesBool={allRecipesBool} timeFilter={timeFilter}\n                isLoading={isLoading} setIsLoading={setIsLoading}\n                searchField={searchField} setSearchField={setSearchField}/>\n}"]},"metadata":{},"sourceType":"module"}