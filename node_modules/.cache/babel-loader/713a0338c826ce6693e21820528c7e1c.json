{"ast":null,"code":"import { SET_USER_DATA, STAR_RECIPE } from './actions';\nconst initialState = {\n  loged: false,\n  id: null,\n  name: null,\n  mail: null,\n  likes: null,\n  recipes: [],\n  likedPostsIdes: []\n};\nexport const userReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case SET_USER_DATA:\n      {\n        return { ...state,\n          ...action.payload,\n          loged: true,\n          likedPostsIdes: JSON.parse(action.payload.likedPostsIdes) || []\n        };\n      }\n\n    case STAR_RECIPE:\n      {\n        console.log(action.payload.starred);\n\n        switch (action.payload.starred) {\n          case true:\n            {\n              let likedPostIdesCopy = [...state.likedPostsIdes];\n              const index = likedPostIdesCopy.indexOf(action.payload.recipeId);\n              console.log(index);\n              console.log(likedPostIdesCopy);\n              console.log(action.payload.recipeId);\n\n              if (index > -1) {\n                likedPostIdesCopy.splice(index, 1);\n              }\n\n              console.log(likedPostIdesCopy);\n              return { ...state,\n                likedPostsIdes: likedPostIdesCopy\n              };\n            }\n\n          case false:\n            {\n              return { ...state,\n                likedPostsIdes: [...state.likedPostsIdes, action.payload.recipeId]\n              };\n            }\n\n          default:\n            {\n              return state;\n            }\n        }\n      }\n\n    default:\n      {\n        return state;\n      }\n  }\n};","map":{"version":3,"sources":["/Users/samilvaliahmetov/education/programming/schoolProject/my-app/main/client/src/store/user/reducer.js"],"names":["SET_USER_DATA","STAR_RECIPE","initialState","loged","id","name","mail","likes","recipes","likedPostsIdes","userReducer","state","action","type","payload","JSON","parse","console","log","starred","likedPostIdesCopy","index","indexOf","recipeId","splice"],"mappings":"AAAA,SAASA,aAAT,EAAwBC,WAAxB,QAA2C,WAA3C;AAEA,MAAMC,YAAY,GAAG;AACjBC,EAAAA,KAAK,EAAE,KADU;AAEjBC,EAAAA,EAAE,EAAE,IAFa;AAGjBC,EAAAA,IAAI,EAAE,IAHW;AAIjBC,EAAAA,IAAI,EAAE,IAJW;AAKjBC,EAAAA,KAAK,EAAE,IALU;AAMjBC,EAAAA,OAAO,EAAE,EANQ;AAOjBC,EAAAA,cAAc,EAAE;AAPC,CAArB;AAUA,OAAO,MAAMC,WAAW,GAAG,YAAkC;AAAA,MAAjCC,KAAiC,uEAAzBT,YAAyB;AAAA,MAAXU,MAAW;;AACzD,UAAQA,MAAM,CAACC,IAAf;AACI,SAAKb,aAAL;AAAoB;AAChB,eAAO,EAAC,GAAGW,KAAJ;AAAW,aAAGC,MAAM,CAACE,OAArB;AACHX,UAAAA,KAAK,EAAE,IADJ;AACUM,UAAAA,cAAc,EAAEM,IAAI,CAACC,KAAL,CAAWJ,MAAM,CAACE,OAAP,CAAeL,cAA1B,KAA6C;AADvE,SAAP;AAEH;;AACD,SAAKR,WAAL;AAAkB;AACdgB,QAAAA,OAAO,CAACC,GAAR,CAAYN,MAAM,CAACE,OAAP,CAAeK,OAA3B;;AACA,gBAAQP,MAAM,CAACE,OAAP,CAAeK,OAAvB;AACI,eAAK,IAAL;AAAW;AACP,kBAAIC,iBAAiB,GAAG,CAAC,GAAGT,KAAK,CAACF,cAAV,CAAxB;AACA,oBAAMY,KAAK,GAAGD,iBAAiB,CAACE,OAAlB,CAA0BV,MAAM,CAACE,OAAP,CAAeS,QAAzC,CAAd;AACAN,cAAAA,OAAO,CAACC,GAAR,CAAYG,KAAZ;AACAJ,cAAAA,OAAO,CAACC,GAAR,CAAYE,iBAAZ;AACAH,cAAAA,OAAO,CAACC,GAAR,CAAYN,MAAM,CAACE,OAAP,CAAeS,QAA3B;;AACA,kBAAIF,KAAK,GAAG,CAAC,CAAb,EAAgB;AACZD,gBAAAA,iBAAiB,CAACI,MAAlB,CAAyBH,KAAzB,EAAgC,CAAhC;AACH;;AACDJ,cAAAA,OAAO,CAACC,GAAR,CAAYE,iBAAZ;AACA,qBAAO,EAAC,GAAGT,KAAJ;AAAWF,gBAAAA,cAAc,EAAEW;AAA3B,eAAP;AACH;;AACD,eAAK,KAAL;AAAY;AACR,qBAAO,EAAC,GAAGT,KAAJ;AAAWF,gBAAAA,cAAc,EAAE,CAAC,GAAGE,KAAK,CAACF,cAAV,EAA0BG,MAAM,CAACE,OAAP,CAAeS,QAAzC;AAA3B,eAAP;AACH;;AACD;AAAS;AACL,qBAAOZ,KAAP;AACH;AAlBL;AAoBH;;AACD;AAAS;AACL,eAAOA,KAAP;AACH;AA9BL;AAgCH,CAjCM","sourcesContent":["import { SET_USER_DATA, STAR_RECIPE } from './actions';\n\nconst initialState = {\n    loged: false,\n    id: null,\n    name: null,\n    mail: null,\n    likes: null,\n    recipes: [],\n    likedPostsIdes: [],\n}\n\nexport const userReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case SET_USER_DATA: {\n            return {...state, ...action.payload, \n                loged: true, likedPostsIdes: JSON.parse(action.payload.likedPostsIdes) || []}\n        }\n        case STAR_RECIPE: {\n            console.log(action.payload.starred)\n            switch (action.payload.starred) {\n                case true: {\n                    let likedPostIdesCopy = [...state.likedPostsIdes]\n                    const index = likedPostIdesCopy.indexOf(action.payload.recipeId);\n                    console.log(index)\n                    console.log(likedPostIdesCopy)\n                    console.log(action.payload.recipeId)\n                    if (index > -1) {\n                        likedPostIdesCopy.splice(index, 1);\n                    }\n                    console.log(likedPostIdesCopy)\n                    return {...state, likedPostsIdes: likedPostIdesCopy}\n                }\n                case false: {\n                    return {...state, likedPostsIdes: [...state.likedPostsIdes, action.payload.recipeId]}\n                }\n                default: {\n                    return state\n                }\n            }\n        }\n        default: {\n            return state\n        }\n    }\n}"]},"metadata":{},"sourceType":"module"}