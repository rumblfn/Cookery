{"ast":null,"code":"import _objectSpread from\"/Users/samilvaliahmetov/education/programming/local-github/cookkery/client/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{TOGGLE_SELECTED_STATE}from'./actions';import{FILTER_PRODUCTS}from'./actions';import{ADD_ALL_PRODUCTS}from'./actions';var initialState={products:{},initialProducts:{},selectedProducts:{},selectedProductsNames:[]};export var productsReducer=function productsReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case ADD_ALL_PRODUCTS:{return _objectSpread(_objectSpread({},state),{},{products:_objectSpread(_objectSpread({},state.products),action.payload),initialProducts:_objectSpread(_objectSpread({},state.products),action.payload)});}case FILTER_PRODUCTS:{var newProducts={};for(var item in state.initialProducts){if(state.initialProducts[item].name.includes(action.payload)){newProducts[item]=state.initialProducts[item];}}return _objectSpread(_objectSpread({},state),{},{products:_objectSpread({},newProducts)});}case TOGGLE_SELECTED_STATE:{var prods=_objectSpread(_objectSpread({},state.initialProducts),state.selectedProducts);prods[action.payload].selected=!prods[action.payload].selected;var newSelectedProducts={};var newSelectedProductsNames=[];for(var _item in prods){if(prods[_item].selected){newSelectedProducts[_item]=prods[_item];newSelectedProductsNames.push(prods[_item].name);}}return _objectSpread(_objectSpread({},state),{},{products:prods,selectedProducts:newSelectedProducts,selectedProductsNames:newSelectedProductsNames});}default:{return state;}}};","map":{"version":3,"sources":["/Users/samilvaliahmetov/education/programming/local-github/cookkery/client/src/store/products/reducer.js"],"names":["TOGGLE_SELECTED_STATE","FILTER_PRODUCTS","ADD_ALL_PRODUCTS","initialState","products","initialProducts","selectedProducts","selectedProductsNames","productsReducer","state","action","type","payload","newProducts","item","name","includes","prods","selected","newSelectedProducts","newSelectedProductsNames","push"],"mappings":"4JAAA,OAASA,qBAAT,KAAsC,WAAtC,CACA,OAASC,eAAT,KAAgC,WAAhC,CACA,OAASC,gBAAT,KAAiC,WAAjC,CAEA,GAAMC,CAAAA,YAAY,CAAG,CACjBC,QAAQ,CAAE,EADO,CAEjBC,eAAe,CAAE,EAFA,CAGjBC,gBAAgB,CAAE,EAHD,CAIjBC,qBAAqB,CAAE,EAJN,CAArB,CAOA,MAAO,IAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAkC,IAAjCC,CAAAA,KAAiC,2DAAzBN,YAAyB,IAAXO,CAAAA,MAAW,2CAC7D,OAAQA,MAAM,CAACC,IAAf,EACI,IAAKT,CAAAA,gBAAL,CAAuB,CACnB,sCACOO,KADP,MAEIL,QAAQ,gCAAMK,KAAK,CAACL,QAAZ,EAAyBM,MAAM,CAACE,OAAhC,CAFZ,CAGIP,eAAe,gCAAMI,KAAK,CAACL,QAAZ,EAAyBM,MAAM,CAACE,OAAhC,CAHnB,GAKH,CACD,IAAKX,CAAAA,eAAL,CAAsB,CAClB,GAAMY,CAAAA,WAAW,CAAG,EAApB,CACA,IAAK,GAAIC,CAAAA,IAAT,GAAiBL,CAAAA,KAAK,CAACJ,eAAvB,CAAwC,CACpC,GAAII,KAAK,CAACJ,eAAN,CAAsBS,IAAtB,EAA4BC,IAA5B,CAAiCC,QAAjC,CAA0CN,MAAM,CAACE,OAAjD,CAAJ,CAA+D,CAC3DC,WAAW,CAACC,IAAD,CAAX,CAAoBL,KAAK,CAACJ,eAAN,CAAsBS,IAAtB,CAApB,CACH,CACJ,CACD,sCACOL,KADP,MAEIL,QAAQ,kBACDS,WADC,CAFZ,GAMH,CACD,IAAKb,CAAAA,qBAAL,CAA4B,CACxB,GAAMiB,CAAAA,KAAK,gCAAOR,KAAK,CAACJ,eAAb,EAAiCI,KAAK,CAACH,gBAAvC,CAAX,CACAW,KAAK,CAACP,MAAM,CAACE,OAAR,CAAL,CAAsBM,QAAtB,CAAiC,CAACD,KAAK,CAACP,MAAM,CAACE,OAAR,CAAL,CAAsBM,QAAxD,CAEA,GAAMC,CAAAA,mBAAmB,CAAG,EAA5B,CACA,GAAMC,CAAAA,wBAAwB,CAAG,EAAjC,CACA,IAAK,GAAIN,CAAAA,KAAT,GAAiBG,CAAAA,KAAjB,CAAwB,CACpB,GAAIA,KAAK,CAACH,KAAD,CAAL,CAAYI,QAAhB,CAA0B,CACtBC,mBAAmB,CAACL,KAAD,CAAnB,CAA4BG,KAAK,CAACH,KAAD,CAAjC,CACAM,wBAAwB,CAACC,IAAzB,CAA8BJ,KAAK,CAACH,KAAD,CAAL,CAAYC,IAA1C,EACH,CACJ,CAED,sCACON,KADP,MAEIL,QAAQ,CAAEa,KAFd,CAGIX,gBAAgB,CAAEa,mBAHtB,CAIIZ,qBAAqB,CAAEa,wBAJ3B,GAMH,CACD,QAAS,CACL,MAAOX,CAAAA,KAAP,CACH,CA5CL,CA8CH,CA/CM","sourcesContent":["import { TOGGLE_SELECTED_STATE } from './actions';\nimport { FILTER_PRODUCTS } from './actions';\nimport { ADD_ALL_PRODUCTS } from './actions';\n\nconst initialState = {\n    products: {},\n    initialProducts: {},\n    selectedProducts: {},\n    selectedProductsNames: []\n}\n\nexport const productsReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case ADD_ALL_PRODUCTS: {\n            return {\n                ...state, \n                products: {...state.products, ...action.payload}, \n                initialProducts: {...state.products, ...action.payload},\n            }\n        }\n        case FILTER_PRODUCTS: {\n            const newProducts = {}\n            for (let item in state.initialProducts) {\n                if (state.initialProducts[item].name.includes(action.payload)) {\n                    newProducts[item] = state.initialProducts[item]\n                }\n            }\n            return {\n                ...state,\n                products: {\n                    ...newProducts\n                }\n            }\n        }\n        case TOGGLE_SELECTED_STATE: {\n            const prods = {...state.initialProducts, ...state.selectedProducts}\n            prods[action.payload].selected = !prods[action.payload].selected\n\n            const newSelectedProducts = {}\n            const newSelectedProductsNames = []\n            for (let item in prods) {\n                if (prods[item].selected) {\n                    newSelectedProducts[item] = prods[item]\n                    newSelectedProductsNames.push(prods[item].name)\n                }\n            }\n\n            return {\n                ...state,\n                products: prods,\n                selectedProducts: newSelectedProducts,\n                selectedProductsNames: newSelectedProductsNames\n            }\n        }\n        default: {\n            return state\n        }\n    }\n}"]},"metadata":{},"sourceType":"module"}