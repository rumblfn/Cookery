{"ast":null,"code":"import { TOGGLE_SELECTED_STATE } from './actions';\nimport { FILTER_PRODUCTS } from './actions';\nimport Axios from 'axios';\nlet initialProducts = {};\n\ntry {\n  Axios.get('http://localhost:3001/products/get').then(response => {\n    for (let prod of response.data) {\n      if (prod.name) {\n        initialProducts[prod.id] = {\n          name: prod.name,\n          selected: Boolean(+prod.selected)\n        };\n      }\n    }\n  });\n} catch {\n  initialProducts = {\n    1: {\n      name: 'яблоко',\n      selected: false\n    },\n    2: {\n      name: 'орехи',\n      selected: false\n    },\n    3: {\n      name: 'печенье',\n      selected: false\n    },\n    4: {\n      name: 'тесто для пиццы',\n      selected: false\n    },\n    5: {\n      name: 'моцарелла',\n      selected: false\n    },\n    6: {\n      name: 'манка',\n      selected: false\n    },\n    7: {\n      name: 'клубника',\n      selected: false\n    },\n    8: {\n      name: 'кинза',\n      selected: false\n    },\n    9: {\n      name: 'соус чили',\n      selected: false\n    },\n    10: {\n      name: 'бальзамический уксус',\n      selected: false\n    },\n    11: {\n      name: 'клубничный джем',\n      selected: false\n    },\n    12: {\n      name: 'красная луковица',\n      selected: false\n    },\n    13: {\n      name: 'копченый бекон',\n      selected: false\n    },\n    14: {\n      name: 'филе куриной грудки',\n      selected: false\n    },\n    15: {\n      name: 'молотый кориандр',\n      selected: false\n    },\n    16: {\n      name: 'тертый имбирь',\n      selected: false\n    },\n    17: {\n      name: 'майонез',\n      selected: false\n    },\n    18: {\n      name: 'смесь салатных листьев',\n      selected: false\n    },\n    19: {\n      name: 'перец чили',\n      selected: false\n    },\n    20: {\n      name: 'лимон',\n      selected: false\n    },\n    21: {\n      name: 'свежая мята',\n      selected: false\n    },\n    22: {\n      name: 'огурец',\n      selected: false\n    },\n    23: {\n      name: 'булочки с кунжутом',\n      selected: false\n    },\n    24: {\n      name: 'цукини',\n      selected: false\n    },\n    25: {\n      name: 'томаты черри',\n      selected: false\n    },\n    26: {\n      name: 'консервированные томаты',\n      selected: false\n    },\n    27: {\n      name: 'паста (пенне)',\n      selected: false\n    },\n    28: {\n      name: 'чеснок',\n      selected: false\n    },\n    29: {\n      name: 'спаржа',\n      selected: false\n    },\n    30: {\n      name: 'пармезан',\n      selected: false\n    },\n    31: {\n      name: 'тобаско',\n      selected: false\n    },\n    32: {\n      name: 'соль',\n      selected: false\n    },\n    33: {\n      name: 'черный перец',\n      selected: false\n    }\n  };\n}\n\nconst initialState = {\n  products: initialProducts,\n  selectedProducts: {},\n  selectedProductsNames: []\n};\nexport const productsReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case FILTER_PRODUCTS:\n      {\n        const newProducts = {};\n\n        for (let item in initialState.products) {\n          if (initialState.products[item].name.includes(action.payload)) {\n            newProducts[item] = initialState.products[item];\n          }\n        }\n\n        return { ...state,\n          products: { ...newProducts\n          }\n        };\n      }\n\n    case TOGGLE_SELECTED_STATE:\n      {\n        const prods = { ...initialState.products\n        };\n        prods[action.payload].selected = !prods[action.payload].selected;\n        const newSelectedProducts = {};\n        const newSelectedProductsNames = [];\n\n        for (let item in initialState.products) {\n          if (initialState.products[item].selected) {\n            newSelectedProducts[item] = initialState.products[item];\n            newSelectedProductsNames.push(initialState.products[item].name);\n          }\n        }\n\n        console.log(newSelectedProducts);\n        return { ...state,\n          products: prods,\n          selectedProducts: newSelectedProducts,\n          selectedProductsNames: newSelectedProductsNames\n        };\n      }\n\n    default:\n      {\n        return state;\n      }\n  }\n};","map":{"version":3,"sources":["/Users/samilvaliahmetov/education/programming/schoolProject/my-app/main/client/src/store/products/reducer.js"],"names":["TOGGLE_SELECTED_STATE","FILTER_PRODUCTS","Axios","initialProducts","get","then","response","prod","data","name","id","selected","Boolean","initialState","products","selectedProducts","selectedProductsNames","productsReducer","state","action","type","newProducts","item","includes","payload","prods","newSelectedProducts","newSelectedProductsNames","push","console","log"],"mappings":"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","sourcesContent":["import { TOGGLE_SELECTED_STATE } from './actions';\nimport { FILTER_PRODUCTS } from './actions';\nimport Axios from 'axios';\n\nlet initialProducts = {}\ntry {\n    Axios.get('http://localhost:3001/products/get').then((response) => {\n        for (let prod of response.data) {\n            if (prod.name) {\n                initialProducts[prod.id] = {\n                    name: prod.name,\n                    selected: Boolean(+prod.selected)\n                }\n            }\n        }\n    })\n    \n} catch {\n    initialProducts = {\n        1: {\n            name: 'яблоко',\n            selected: false\n        },\n        2: {\n            name: 'орехи',\n            selected: false\n        },\n        3: {\n            name: 'печенье',\n            selected: false\n        },\n        4: {\n            name: 'тесто для пиццы',\n            selected: false\n        },\n        5: {\n            name: 'моцарелла',\n            selected: false\n        },\n        6: {\n            name: 'манка',\n            selected: false\n        },\n        7: {\n            name: 'клубника',\n            selected: false\n        },\n        8: {\n            name: 'кинза',\n            selected: false\n        },\n        9: {\n            name: 'соус чили',\n            selected: false\n        },\n        10: {\n            name: 'бальзамический уксус',\n            selected: false\n        },\n        11: {\n            name: 'клубничный джем',\n            selected: false\n        },\n        12: {\n            name: 'красная луковица',\n            selected: false\n        },\n        13: {\n            name: 'копченый бекон',\n            selected: false\n        },\n        14: {\n            name: 'филе куриной грудки',\n            selected: false\n        },\n        15: {\n            name: 'молотый кориандр',\n            selected: false\n        },\n        16: {\n            name: 'тертый имбирь',\n            selected: false\n        },\n        17: {\n            name: 'майонез',\n            selected: false\n        },\n        18: {\n            name: 'смесь салатных листьев',\n            selected: false\n        },\n        19: {\n            name: 'перец чили',\n            selected: false\n        },\n        20: {\n            name: 'лимон',\n            selected: false\n        },\n        21: {\n            name: 'свежая мята',\n            selected: false\n        },\n        22: {\n            name: 'огурец',\n            selected: false\n        },\n        23: {\n            name: 'булочки с кунжутом',\n            selected: false\n        },\n        24: {\n            name: 'цукини',\n            selected: false\n        },\n        25: {\n            name: 'томаты черри',\n            selected: false\n        },\n        26: {\n            name: 'консервированные томаты',\n            selected: false\n        },\n        27: {\n            name: 'паста (пенне)',\n            selected: false\n        },\n        28: {\n            name: 'чеснок',\n            selected: false\n        },\n        29: {\n            name: 'спаржа',\n            selected: false\n        },\n        30: {\n            name: 'пармезан',\n            selected: false\n        },\n        31: {\n            name: 'тобаско',\n            selected: false\n        },\n        32: {\n            name: 'соль',\n            selected: false\n        },\n        33: {\n            name: 'черный перец',\n            selected: false\n        }\n    }\n}\n\nconst initialState = {\n    products: initialProducts,\n    selectedProducts: {},\n    selectedProductsNames: []\n}\n\nexport const productsReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case FILTER_PRODUCTS: {\n            const newProducts = {}\n            for (let item in initialState.products) {\n                if (initialState.products[item].name.includes(action.payload)) {\n                    newProducts[item] = initialState.products[item]\n                }\n            }\n            return {\n                ...state,\n                products: {\n                    ...newProducts\n                }\n            }\n        }\n        case TOGGLE_SELECTED_STATE: {\n            const prods = {...initialState.products}\n            prods[action.payload].selected = !prods[action.payload].selected\n\n            const newSelectedProducts = {}\n            const newSelectedProductsNames = []\n            for (let item in initialState.products) {\n                if (initialState.products[item].selected) {\n                    newSelectedProducts[item] = initialState.products[item]\n                    newSelectedProductsNames.push(initialState.products[item].name)\n                }\n            }\n            console.log(newSelectedProducts)\n\n            return {\n                ...state,\n                products: prods,\n                selectedProducts: newSelectedProducts,\n                selectedProductsNames: newSelectedProductsNames\n            }\n        }\n        default: {\n            return state\n        }\n    }\n}"]},"metadata":{},"sourceType":"module"}