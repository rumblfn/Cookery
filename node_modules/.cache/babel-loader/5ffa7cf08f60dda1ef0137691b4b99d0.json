{"ast":null,"code":"import _slicedToArray from\"/Users/samilvaliahmetov/education/programming/local-github/Cookery/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectSpread from\"/Users/samilvaliahmetov/education/programming/local-github/Cookery/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{recipesConnect}from\"../../../connect/recipes/recipes\";import Paper from'@mui/material/Paper';import{Link}from'react-router-dom';import{useState,useEffect}from'react';import Axios from'axios';import{Search}from'../../../components/searchLine/index';import{useSelector}from'react-redux';import\"./style.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var css={display:'grid',gridTemplateColumns:'1fr 1fr',gap:'16px',marginTop:'48px'};export var Widget=recipesConnect(function(_ref){var searchField=_ref.searchField,setSearchField=_ref.setSearchField,format=_ref.format,allRecipesBool=_ref.allRecipesBool,userRecipes=_ref.userRecipes,setRicepes=_ref.setRicepes,setIsLoading=_ref.setIsLoading,recipes=_ref.recipes,selectedProducts=_ref.selectedProducts;var newRecipes={};if(allRecipesBool){if(format==='computer'){css=_objectSpread(_objectSpread({},css),{},{gridTemplateColumns:'1fr 1fr 1fr 1fr'});}else if(format==='laptop'){css=_objectSpread(_objectSpread({},css),{},{gridTemplateColumns:'1fr 1fr 1fr'});}else if(format==='tablet'){css=_objectSpread(_objectSpread({},css),{},{gridTemplateColumns:'1fr 1fr 1fr'});}else if(format==='tablet2'){css=_objectSpread(_objectSpread({},css),{},{gridTemplateColumns:'1fr 1fr'});}else if(format==='phone'){css=_objectSpread(_objectSpread({},css),{},{gridTemplateColumns:'1fr'});}if(allRecipesBool==='starred'){newRecipes=useSelector(function(state){return state.recipes.starred_recipes;});}else{newRecipes=_objectSpread({},recipes);}}else{if(format==='computer'){css=_objectSpread(_objectSpread({},css),{},{gridTemplateColumns:'1fr 1fr 1fr'});}else if(format==='laptop'){css=_objectSpread(_objectSpread({},css),{},{gridTemplateColumns:'1fr 1fr'});}else if(format==='tablet'){css=_objectSpread(_objectSpread({},css),{},{gridTemplateColumns:'1fr 1fr'});}else if(format==='tablet2'){css=_objectSpread(_objectSpread({},css),{},{gridTemplateColumns:'1fr'});}else if(format==='phone'){css=_objectSpread(_objectSpread({},css),{},{gridTemplateColumns:'1fr'});}useEffect(function(){if(Object.keys(recipes).length<=Object.keys(userRecipes).length){setIsLoading(true);Axios.get('https://cookery-app.herokuapp.com/recipes/get').then(function(response){setRicepes(response.data);setIsLoading(false);});}},[]);var isEmpty=function isEmpty(obj){for(var key in obj){return true;}return false;};var checkProductsInRecipe=function checkProductsInRecipe(recipe,prods){for(var key in prods){if(recipe.lstOfProducts.includes(prods[key].name.toLowerCase())){return true;}}return false;};if(isEmpty(selectedProducts)){for(var recipe in recipes){if(checkProductsInRecipe(recipes[recipe],selectedProducts)){newRecipes[recipe]=_objectSpread({},recipes[recipe]);}}}}var setSearchFieldFunc=function setSearchFieldFunc(val){setSearchField(val);};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{style:css,children:Object.values(newRecipes).map(function(item){return/*#__PURE__*/_jsx(Link,{to:\"/recipes/\".concat(item.id,\"/\").concat(allRecipesBool==='starred'?'starred':'all'),children:/*#__PURE__*/_jsxs(Paper,{elevation:3,className:\"paper-recipe-box\",style:{borderRadius:'7px',height:'200px',overflow:'hidden',position:'relative',justifyContent:'space-between',display:'flex',alignItems:'center',flexDirection:'column'},children:[item.images[0]?/*#__PURE__*/_jsx(\"img\",{style:{width:'100%',height:'100%',objectFit:'cover'},src:item.images[0],alt:\"food\"}):/*#__PURE__*/_jsx(\"div\",{style:{backgroundColor:'black',width:'100%',height:'100%',position:'relative'}}),/*#__PURE__*/_jsx(\"div\",{class:\"overlay\",children:/*#__PURE__*/_jsx(\"div\",{class:\"text\",children:item.title})})]})},item.id);})})});});export var ListOfReciepes=function ListOfReciepes(_ref2){var format=_ref2.format,allRecipesBool=_ref2.allRecipesBool;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),searchField=_useState4[0],setSearchField=_useState4[1];return/*#__PURE__*/_jsx(Widget,{format:format,allRecipesBool:allRecipesBool,isLoading:isLoading,setIsLoading:setIsLoading,searchField:searchField,setSearchField:setSearchField});};","map":{"version":3,"sources":["/Users/samilvaliahmetov/education/programming/local-github/Cookery/src/components/HomePage/listOfReciepes/listOfReciepes.js"],"names":["recipesConnect","Paper","Link","useState","useEffect","Axios","Search","useSelector","css","display","gridTemplateColumns","gap","marginTop","Widget","searchField","setSearchField","format","allRecipesBool","userRecipes","setRicepes","setIsLoading","recipes","selectedProducts","newRecipes","state","starred_recipes","Object","keys","length","get","then","response","data","isEmpty","obj","key","checkProductsInRecipe","recipe","prods","lstOfProducts","includes","name","toLowerCase","setSearchFieldFunc","val","values","map","item","id","borderRadius","height","overflow","position","justifyContent","alignItems","flexDirection","images","width","objectFit","backgroundColor","title","ListOfReciepes","isLoading"],"mappings":"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","sourcesContent":["import { recipesConnect } from \"../../../connect/recipes/recipes\"\nimport Paper from '@mui/material/Paper';\nimport { Link } from 'react-router-dom';\nimport { useState, useEffect } from 'react';\nimport Axios from 'axios';\nimport { Search } from '../../../components/searchLine/index'\nimport { useSelector } from 'react-redux';\nimport \"./style.css\";\n\nlet css = {display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '16px', marginTop: '48px'}\n\nexport const Widget = recipesConnect(({searchField, setSearchField, format, allRecipesBool, userRecipes, setRicepes, setIsLoading, recipes, selectedProducts}) => {\n    let newRecipes = {}\n\n    if (allRecipesBool) {\n\n        if (format === 'computer') { css = {...css, gridTemplateColumns: '1fr 1fr 1fr 1fr'}\n        } else if (format === 'laptop') { css = {...css, gridTemplateColumns: '1fr 1fr 1fr'}\n        } else if (format === 'tablet') { css = {...css, gridTemplateColumns: '1fr 1fr 1fr'}\n        } else if (format === 'tablet2') { css = {...css, gridTemplateColumns: '1fr 1fr'}\n        } else if (format === 'phone') { css = {...css, gridTemplateColumns: '1fr'}\n        } \n\n        if (allRecipesBool === 'starred') {\n            newRecipes = useSelector(state => state.recipes.starred_recipes)\n        } else {\n            newRecipes = {...recipes}\n        }\n\n    } else {\n\n        if (format === 'computer') { css = {...css, gridTemplateColumns: '1fr 1fr 1fr'}\n        } else if (format === 'laptop') { css = {...css, gridTemplateColumns: '1fr 1fr'}\n        } else if (format === 'tablet') { css = {...css, gridTemplateColumns: '1fr 1fr'}\n        } else if (format === 'tablet2') { css = {...css, gridTemplateColumns: '1fr'}\n        } else if (format === 'phone') { css = {...css, gridTemplateColumns: '1fr'} }\n\n        useEffect(() => {\n            if (Object.keys(recipes).length <= Object.keys(userRecipes).length) {\n                setIsLoading(true)\n                Axios.get('https://cookery-app.herokuapp.com/recipes/get')\n                    .then((response) => {\n                        setRicepes(response.data)\n                        setIsLoading(false)\n                    }\n                )\n            }\n        }, [])\n    \n        const isEmpty = (obj) => { for (let key in obj) { return true } return false }\n    \n        const checkProductsInRecipe = (recipe, prods) => {\n            for (let key in prods) {\n                if (recipe.lstOfProducts.includes(prods[key].name.toLowerCase())) {\n                    return true\n                }} return false }\n        \n        if (isEmpty(selectedProducts)) {\n            for (let recipe in recipes) {\n                if (checkProductsInRecipe(recipes[recipe], selectedProducts)) {\n                    newRecipes[recipe] = {...recipes[recipe]}}}}}\n    \n    const setSearchFieldFunc = (val) => {\n        setSearchField(val)\n    }\n\n    return (\n        <div>\n            {/* { allRecipesBool ? \n            <Search setSearchFieldFunc={setSearchFieldFunc} format={format}/> \n            : null } */}\n            <div style={css}>\n                {Object.values(newRecipes).map(item => (\n                    <Link to={`/recipes/${item.id}/${allRecipesBool === 'starred' ? 'starred' : 'all'}`} key={item.id}>\n                        <Paper elevation={3} className=\"paper-recipe-box\" style={{\n                            borderRadius: '7px', height: '200px', overflow: 'hidden', position: 'relative',\n                            justifyContent: 'space-between', display: 'flex', alignItems: 'center', flexDirection: 'column'\n                        }}>\n                            {item.images[0] ? \n                                <img style={{width: '100%', height: '100%', objectFit: 'cover'}} src={item.images[0]} alt='food'/>\n                                : <div style={{backgroundColor: 'black', width: '100%', height: '100%', position: 'relative'}}/>\n                            }\n                            <div class=\"overlay\">\n                                <div class=\"text\">{item.title}</div>\n                            </div>\n                        </Paper>\n                    </Link>\n                ))}\n            </div>\n        </div>\n    )\n})\n\nexport const ListOfReciepes = ({format, allRecipesBool}) => {\n    const [isLoading, setIsLoading] = useState(false);\n    const [searchField, setSearchField] = useState('')\n\n    return <Widget format={format} allRecipesBool={allRecipesBool} \n                isLoading={isLoading} setIsLoading={setIsLoading}\n                searchField={searchField} setSearchField={setSearchField}/>\n}"]},"metadata":{},"sourceType":"module"}