{"ast":null,"code":"var util = require('../util');\n\nfunction JsonBuilder() {}\n\nJsonBuilder.prototype.build = function (value, shape) {\n  return JSON.stringify(translate(value, shape));\n};\n\nfunction translate(value, shape) {\n  if (!shape || value === undefined || value === null) return undefined;\n\n  switch (shape.type) {\n    case 'structure':\n      return translateStructure(value, shape);\n\n    case 'map':\n      return translateMap(value, shape);\n\n    case 'list':\n      return translateList(value, shape);\n\n    default:\n      return translateScalar(value, shape);\n  }\n}\n\nfunction translateStructure(structure, shape) {\n  if (shape.isDocument) {\n    return structure;\n  }\n\n  var struct = {};\n  util.each(structure, function (name, value) {\n    var memberShape = shape.members[name];\n\n    if (memberShape) {\n      if (memberShape.location !== 'body') return;\n      var locationName = memberShape.isLocationName ? memberShape.name : name;\n      var result = translate(value, memberShape);\n      if (result !== undefined) struct[locationName] = result;\n    }\n  });\n  return struct;\n}\n\nfunction translateList(list, shape) {\n  var out = [];\n  util.arrayEach(list, function (value) {\n    var result = translate(value, shape.member);\n    if (result !== undefined) out.push(result);\n  });\n  return out;\n}\n\nfunction translateMap(map, shape) {\n  var out = {};\n  util.each(map, function (key, value) {\n    var result = translate(value, shape.value);\n    if (result !== undefined) out[key] = result;\n  });\n  return out;\n}\n\nfunction translateScalar(value, shape) {\n  return shape.toWireFormat(value);\n}\n/**\n * @api private\n */\n\n\nmodule.exports = JsonBuilder;","map":{"version":3,"sources":["/Users/samilvaliahmetov/education/programming/schoolProject/my-app/node_modules/aws-sdk/lib/json/builder.js"],"names":["util","require","JsonBuilder","prototype","build","value","shape","JSON","stringify","translate","undefined","type","translateStructure","translateMap","translateList","translateScalar","structure","isDocument","struct","each","name","memberShape","members","location","locationName","isLocationName","result","list","out","arrayEach","member","push","map","key","toWireFormat","module","exports"],"mappings":"AAAA,IAAIA,IAAI,GAAGC,OAAO,CAAC,SAAD,CAAlB;;AAEA,SAASC,WAAT,GAAuB,CAAG;;AAE1BA,WAAW,CAACC,SAAZ,CAAsBC,KAAtB,GAA8B,UAASC,KAAT,EAAgBC,KAAhB,EAAuB;AACnD,SAAOC,IAAI,CAACC,SAAL,CAAeC,SAAS,CAACJ,KAAD,EAAQC,KAAR,CAAxB,CAAP;AACD,CAFD;;AAIA,SAASG,SAAT,CAAmBJ,KAAnB,EAA0BC,KAA1B,EAAiC;AAC/B,MAAI,CAACA,KAAD,IAAUD,KAAK,KAAKK,SAApB,IAAiCL,KAAK,KAAK,IAA/C,EAAqD,OAAOK,SAAP;;AAErD,UAAQJ,KAAK,CAACK,IAAd;AACE,SAAK,WAAL;AAAkB,aAAOC,kBAAkB,CAACP,KAAD,EAAQC,KAAR,CAAzB;;AAClB,SAAK,KAAL;AAAY,aAAOO,YAAY,CAACR,KAAD,EAAQC,KAAR,CAAnB;;AACZ,SAAK,MAAL;AAAa,aAAOQ,aAAa,CAACT,KAAD,EAAQC,KAAR,CAApB;;AACb;AAAS,aAAOS,eAAe,CAACV,KAAD,EAAQC,KAAR,CAAtB;AAJX;AAMD;;AAED,SAASM,kBAAT,CAA4BI,SAA5B,EAAuCV,KAAvC,EAA8C;AAC5C,MAAIA,KAAK,CAACW,UAAV,EAAsB;AACpB,WAAOD,SAAP;AACD;;AACD,MAAIE,MAAM,GAAG,EAAb;AACAlB,EAAAA,IAAI,CAACmB,IAAL,CAAUH,SAAV,EAAqB,UAASI,IAAT,EAAef,KAAf,EAAsB;AACzC,QAAIgB,WAAW,GAAGf,KAAK,CAACgB,OAAN,CAAcF,IAAd,CAAlB;;AACA,QAAIC,WAAJ,EAAiB;AACf,UAAIA,WAAW,CAACE,QAAZ,KAAyB,MAA7B,EAAqC;AACrC,UAAIC,YAAY,GAAGH,WAAW,CAACI,cAAZ,GAA6BJ,WAAW,CAACD,IAAzC,GAAgDA,IAAnE;AACA,UAAIM,MAAM,GAAGjB,SAAS,CAACJ,KAAD,EAAQgB,WAAR,CAAtB;AACA,UAAIK,MAAM,KAAKhB,SAAf,EAA0BQ,MAAM,CAACM,YAAD,CAAN,GAAuBE,MAAvB;AAC3B;AACF,GARD;AASA,SAAOR,MAAP;AACD;;AAED,SAASJ,aAAT,CAAuBa,IAAvB,EAA6BrB,KAA7B,EAAoC;AAClC,MAAIsB,GAAG,GAAG,EAAV;AACA5B,EAAAA,IAAI,CAAC6B,SAAL,CAAeF,IAAf,EAAqB,UAAStB,KAAT,EAAgB;AACnC,QAAIqB,MAAM,GAAGjB,SAAS,CAACJ,KAAD,EAAQC,KAAK,CAACwB,MAAd,CAAtB;AACA,QAAIJ,MAAM,KAAKhB,SAAf,EAA0BkB,GAAG,CAACG,IAAJ,CAASL,MAAT;AAC3B,GAHD;AAIA,SAAOE,GAAP;AACD;;AAED,SAASf,YAAT,CAAsBmB,GAAtB,EAA2B1B,KAA3B,EAAkC;AAChC,MAAIsB,GAAG,GAAG,EAAV;AACA5B,EAAAA,IAAI,CAACmB,IAAL,CAAUa,GAAV,EAAe,UAASC,GAAT,EAAc5B,KAAd,EAAqB;AAClC,QAAIqB,MAAM,GAAGjB,SAAS,CAACJ,KAAD,EAAQC,KAAK,CAACD,KAAd,CAAtB;AACA,QAAIqB,MAAM,KAAKhB,SAAf,EAA0BkB,GAAG,CAACK,GAAD,CAAH,GAAWP,MAAX;AAC3B,GAHD;AAIA,SAAOE,GAAP;AACD;;AAED,SAASb,eAAT,CAAyBV,KAAzB,EAAgCC,KAAhC,EAAuC;AACrC,SAAOA,KAAK,CAAC4B,YAAN,CAAmB7B,KAAnB,CAAP;AACD;AAED;AACA;AACA;;;AACA8B,MAAM,CAACC,OAAP,GAAiBlC,WAAjB","sourcesContent":["var util = require('../util');\n\nfunction JsonBuilder() { }\n\nJsonBuilder.prototype.build = function(value, shape) {\n  return JSON.stringify(translate(value, shape));\n};\n\nfunction translate(value, shape) {\n  if (!shape || value === undefined || value === null) return undefined;\n\n  switch (shape.type) {\n    case 'structure': return translateStructure(value, shape);\n    case 'map': return translateMap(value, shape);\n    case 'list': return translateList(value, shape);\n    default: return translateScalar(value, shape);\n  }\n}\n\nfunction translateStructure(structure, shape) {\n  if (shape.isDocument) {\n    return structure;\n  }\n  var struct = {};\n  util.each(structure, function(name, value) {\n    var memberShape = shape.members[name];\n    if (memberShape) {\n      if (memberShape.location !== 'body') return;\n      var locationName = memberShape.isLocationName ? memberShape.name : name;\n      var result = translate(value, memberShape);\n      if (result !== undefined) struct[locationName] = result;\n    }\n  });\n  return struct;\n}\n\nfunction translateList(list, shape) {\n  var out = [];\n  util.arrayEach(list, function(value) {\n    var result = translate(value, shape.member);\n    if (result !== undefined) out.push(result);\n  });\n  return out;\n}\n\nfunction translateMap(map, shape) {\n  var out = {};\n  util.each(map, function(key, value) {\n    var result = translate(value, shape.value);\n    if (result !== undefined) out[key] = result;\n  });\n  return out;\n}\n\nfunction translateScalar(value, shape) {\n  return shape.toWireFormat(value);\n}\n\n/**\n * @api private\n */\nmodule.exports = JsonBuilder;\n"]},"metadata":{},"sourceType":"script"}