{"ast":null,"code":"import _objectSpread from\"/Users/samilvaliahmetov/education/programming/local-github/Cookery/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _createForOfIteratorHelper from\"/Users/samilvaliahmetov/education/programming/local-github/Cookery/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";import _slicedToArray from\"/Users/samilvaliahmetov/education/programming/local-github/Cookery/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{ListOfProducts}from'../../components/HomePage/listOfProducts/listOfProducts';import{ListOfSelectedProducts}from'../../components/HomePage/listOfSelectedProducts/listOfSelectedProducts';import{ListOfReciepes}from'../../components/HomePage/listOfReciepes/listOfReciepes';import useMediaQuery from'@mui/material/useMediaQuery';import Button from\"@mui/material/Button\";import ArrowDownwardIcon from'@mui/icons-material/ArrowDownward';import{useDispatch,useSelector}from\"react-redux\";import Axios from\"axios\";import{setRicepesReducer}from'../../store/recipes';import AccessTimeIcon from'@mui/icons-material/AccessTime';import{setStarredRecipes}from\"../../store/recipes\";import{Search}from\"../../components/searchLine\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var css_desc={display:'grid',gridTemplateColumns:'3fr 7fr',gap:'16px'};var css_laptop={display:'grid',gridTemplateColumns:'7fr 13fr',gap:'16px'};var css_tablet={display:'grid',gridTemplateColumns:'2fr 3fr',gap:'16px'};var css_tablet2={display:'grid',gridTemplateColumns:'1fr 1fr',gap:'16px'};var css_mobile={display:'flex',flexDirection:'column'};export var HomePage=function HomePage(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),otherRecipes=_useState2[0],setOtherRecipes=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),searchField=_useState4[0],setSearchField=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),timeFilter=_useState6[0],setTimeFilter=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),toggleClass=_useState8[0],setToggleClass=_useState8[1];var dispatch=useDispatch();var selectedRecipes=useSelector(function(state){return state.products.selectedProductsNames;});var default_size='70vh';var css=css_desc;var laptop=useMediaQuery('(max-width:1024px)');var tablet=useMediaQuery('(max-width:768px)');var tablet2=useMediaQuery('(max-width:628px)');var phone=useMediaQuery('(max-width:425px)');var format='computer';if(phone){css=css_mobile;default_size='40vh';format='phone';}else if(tablet2){css=css_tablet2;format='tablet2';}else if(tablet){css=css_tablet;format='tablet';}else if(laptop){css=css_laptop;format='laptop';}var selectNewRecipes=function selectNewRecipes(){if(selectedRecipes.length){Axios.get('https://cookery-app.herokuapp.com/recipes_by_products/get',{params:{products:selectedRecipes}}).then(function(res){dispatch(setRicepesReducer(res.data));});}};useEffect(function(){console.log(timeFilter);},[timeFilter]);var setSearchFieldFunc=function setSearchFieldFunc(val){setSearchField(val);Axios.get('https://cookery-app.herokuapp.com/recipes_by_title/get',{params:{title:searchField.toLowerCase()}}).then(function(res){var recipes=[];var _iterator=_createForOfIteratorHelper(res.data),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var recipe=_step.value;recipes.push(_objectSpread(_objectSpread({},recipe),{},{cook:JSON.parse(recipe.cook),description:JSON.parse(recipe.description),images:JSON.parse(recipe.images),lstOfProducts:JSON.parse(recipe.lstOfProducts),products:JSON.parse(recipe.products)}));}}catch(err){_iterator.e(err);}finally{_iterator.f();}setOtherRecipes(recipes);});};return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{style:css,children:[/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'24px'},children:/*#__PURE__*/_jsx(ListOfProducts,{toggleClass:toggleClass,marginRightProp:\"2%\",maxHeightProp:default_size})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'16px',marginLeft:'16px',justifyContent:'space-between',display:'flex',alignItems:'center',flexWrap:'wrap'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Button,{variant:\"outlined\",sx:{marginBottom:'12px',color:'black',backgroundColor:'white',borderColor:'black',\"&:hover\":{backgroundColor:'rgb(17,17,50)',color:'white',borderColor:'white'}},onClick:selectNewRecipes,children:[\"\\u041F\\u043E\\u0434\\u043E\\u0431\\u0440\\u0430\\u0442\\u044C \",/*#__PURE__*/_jsx(ArrowDownwardIcon,{})]}),/*#__PURE__*/_jsxs(Button,{variant:\"outlined\",sx:{margin:'0 12px 12px',color:'black',backgroundColor:'white',borderColor:'black',\"&:hover\":{backgroundColor:'rgb(17,17,50)',color:'white',borderColor:'white'}},onClick:function onClick(){if(timeFilter<1){setTimeFilter(function(prevState){return prevState+=1;});}else{setTimeFilter(-1);}},children:[/*#__PURE__*/_jsx(AccessTimeIcon,{}),\" \",/*#__PURE__*/_jsx(ArrowDownwardIcon,{style:{transform:timeFilter===-1?'rotate(0deg)':timeFilter===0?'rotate(90deg)':'rotate(180deg)'}})]})]}),/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'12px'},children:/*#__PURE__*/_jsx(Search,{setSearchFieldFunc:setSearchFieldFunc})})]}),/*#__PURE__*/_jsx(ListOfSelectedProducts,{setToggleClass:setToggleClass}),/*#__PURE__*/_jsx(ListOfReciepes,{otherRecipes:otherRecipes,searchField:searchField,timeFilter:timeFilter,format:format})]})]})});};","map":{"version":3,"sources":["/Users/samilvaliahmetov/education/programming/local-github/Cookery/src/routes/HomePage/index.js"],"names":["React","useState","useEffect","ListOfProducts","ListOfSelectedProducts","ListOfReciepes","useMediaQuery","Button","ArrowDownwardIcon","useDispatch","useSelector","Axios","setRicepesReducer","AccessTimeIcon","setStarredRecipes","Search","css_desc","display","gridTemplateColumns","gap","css_laptop","css_tablet","css_tablet2","css_mobile","flexDirection","HomePage","otherRecipes","setOtherRecipes","searchField","setSearchField","timeFilter","setTimeFilter","toggleClass","setToggleClass","dispatch","selectedRecipes","state","products","selectedProductsNames","default_size","css","laptop","tablet","tablet2","phone","format","selectNewRecipes","length","get","params","then","res","data","console","log","setSearchFieldFunc","val","title","toLowerCase","recipes","recipe","push","cook","JSON","parse","description","images","lstOfProducts","marginBottom","marginLeft","justifyContent","alignItems","flexWrap","color","backgroundColor","borderColor","margin","prevState","transform"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport { ListOfProducts } from '../../components/HomePage/listOfProducts/listOfProducts';\nimport { ListOfSelectedProducts } from '../../components/HomePage/listOfSelectedProducts/listOfSelectedProducts';\nimport { ListOfReciepes } from '../../components/HomePage/listOfReciepes/listOfReciepes'\nimport useMediaQuery from '@mui/material/useMediaQuery';\nimport Button from \"@mui/material/Button\";\nimport ArrowDownwardIcon from '@mui/icons-material/ArrowDownward';\nimport {useDispatch, useSelector} from \"react-redux\";\nimport Axios from \"axios\";\nimport { setRicepesReducer } from '../../store/recipes'\nimport AccessTimeIcon from '@mui/icons-material/AccessTime';\nimport {setStarredRecipes} from \"../../store/recipes\";\nimport {Search} from \"../../components/searchLine\";\n\n\nconst css_desc = {\n    display: 'grid',\n    gridTemplateColumns: '3fr 7fr',\n    gap: '16px'\n}\n\nconst css_laptop = {\n    display: 'grid',\n    gridTemplateColumns: '7fr 13fr',\n    gap: '16px'\n}\n\nconst css_tablet = {\n    display: 'grid',\n    gridTemplateColumns: '2fr 3fr',\n    gap: '16px'\n}\n\nconst css_tablet2 = {\n    display: 'grid',\n    gridTemplateColumns: '1fr 1fr',\n    gap: '16px'\n}\n\nconst css_mobile = {\n    display: 'flex',\n    flexDirection: 'column',\n}\n\n\nexport const HomePage = () => {\n    const [otherRecipes, setOtherRecipes] = useState([])\n    const [searchField, setSearchField] = useState('')\n    const [timeFilter, setTimeFilter] = useState(0)\n    const [toggleClass, setToggleClass] = useState(false)\n    const dispatch = useDispatch()\n    const selectedRecipes = useSelector(state => state.products.selectedProductsNames)\n    let default_size = '70vh'\n    let css = css_desc\n    const laptop = useMediaQuery('(max-width:1024px)');\n    const tablet = useMediaQuery('(max-width:768px)');\n    const tablet2 = useMediaQuery('(max-width:628px)');\n    const phone = useMediaQuery('(max-width:425px)');\n    let format = 'computer'\n\n    if (phone) {\n        css = css_mobile;\n        default_size = '40vh'\n        format = 'phone'\n    } else if (tablet2) {\n        css = css_tablet2;\n        format = 'tablet2'\n    } else if (tablet) {\n        css = css_tablet;\n        format = 'tablet'\n    }else if (laptop) {\n        css = css_laptop;\n        format = 'laptop'\n    }\n\n    const selectNewRecipes = () => {\n        if (selectedRecipes.length) {\n            Axios.get('https://cookery-app.herokuapp.com/recipes_by_products/get', {\n                params: {\n                    products: selectedRecipes\n                }\n            }).then((res) => {\n                dispatch(setRicepesReducer(res.data))\n            })\n        }\n    }\n\n    useEffect(() => {\n        console.log(timeFilter)\n    }, [timeFilter])\n\n    const setSearchFieldFunc = (val) => {\n        setSearchField(val)\n        Axios.get('https://cookery-app.herokuapp.com/recipes_by_title/get', {\n            params: {\n                title: searchField.toLowerCase()\n            }\n        }).then((res) => {\n            const recipes = []\n            for (let recipe of res.data) {\n                recipes.push({\n                    ...recipe,\n                    cook: JSON.parse(recipe.cook),\n                    description: JSON.parse(recipe.description),\n                    images: JSON.parse(recipe.images),\n                    lstOfProducts: JSON.parse(recipe.lstOfProducts),\n                    products: JSON.parse(recipe.products)\n                })\n            }\n            setOtherRecipes(recipes)\n        })\n    }\n\n    return ( \n        <div className=\"container\">\n            <div style={css}>\n                <div style={{marginBottom: '24px'}}>\n                    <ListOfProducts toggleClass={toggleClass} marginRightProp='2%' maxHeightProp={default_size}/>\n                </div>\n                <div>\n                    <div style={{marginBottom: '16px', marginLeft: '16px', justifyContent: 'space-between', display: 'flex', alignItems: 'center', flexWrap: 'wrap'}}>\n                        <div>\n                            <Button variant=\"outlined\" sx={{marginBottom: '12px',\n                                color: 'black', backgroundColor: 'white', borderColor: 'black',\n                                \"&:hover\": {\n                                    backgroundColor: 'rgb(17,17,50)',\n                                    color: 'white',\n                                    borderColor: 'white',\n                                }\n                            }} onClick={selectNewRecipes}>\n                                Подобрать <ArrowDownwardIcon />\n                            </Button>\n                            <Button variant=\"outlined\" sx={{margin: '0 12px 12px',\n                                color: 'black', backgroundColor: 'white', borderColor: 'black',\n                                \"&:hover\": {\n                                    backgroundColor: 'rgb(17,17,50)',\n                                    color: 'white',\n                                    borderColor: 'white',\n                                }\n                            }} onClick={() => {\n                                if (timeFilter < 1) {\n                                    setTimeFilter(prevState => prevState += 1)\n                                } else {\n                                    setTimeFilter(-1)\n                                }\n                            }}>\n                                <AccessTimeIcon/> <ArrowDownwardIcon style={{\n                                transform: timeFilter === -1 ? 'rotate(0deg)' :\n                                    timeFilter === 0 ? 'rotate(90deg)' : 'rotate(180deg)'\n                            }} />\n                            </Button>\n                        </div>\n                        <div style={{marginBottom: '12px'}}>\n                            <Search setSearchFieldFunc={setSearchFieldFunc}/>\n                        </div>\n                    </div>\n                    <ListOfSelectedProducts setToggleClass={setToggleClass} />\n                    <ListOfReciepes otherRecipes={otherRecipes} searchField={searchField} timeFilter={timeFilter} format={format} />\n                </div>\n            </div>\n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}