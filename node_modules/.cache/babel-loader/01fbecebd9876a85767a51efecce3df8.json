{"ast":null,"code":"import { SET_USER_DATA, STAR_RECIPE } from './actions';\nconst initialState = {\n  loged: false,\n  id: null,\n  name: null,\n  mail: null,\n  likes: null,\n  recipes: [],\n  likedPostsIdes: []\n};\nexport const userReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case SET_USER_DATA:\n      {\n        return { ...state,\n          ...action.payload,\n          loged: true,\n          likedPostsIdes: action.payload.likedPostsIdes.split(';')\n        };\n      }\n\n    case STAR_RECIPE:\n      {\n        switch (action.payload.starred) {\n          case true:\n            {\n              let likedPostIdesCopy = [...state.likedPostsIdes];\n              const index = likedPostIdesCopy.indexOf(action.payload.recipeId);\n\n              if (index > -1) {\n                likedPostIdesCopy.splice(index, 1);\n              }\n\n              return { ...state,\n                likedPostsIdes: likedPostIdesCopy\n              };\n            }\n\n          case false:\n            {\n              return { ...state,\n                likedPostsIdes: [...state.likedPostsIdes, action.payload.recipeId]\n              };\n            }\n\n          default:\n            {\n              return state;\n            }\n        }\n      }\n\n    default:\n      {\n        return state;\n      }\n  }\n};","map":{"version":3,"sources":["/Users/samilvaliahmetov/education/programming/schoolProject/my-app/main/client/src/store/user/reducer.js"],"names":["SET_USER_DATA","STAR_RECIPE","initialState","loged","id","name","mail","likes","recipes","likedPostsIdes","userReducer","state","action","type","payload","split","starred","likedPostIdesCopy","index","indexOf","recipeId","splice"],"mappings":"AAAA,SAASA,aAAT,EAAwBC,WAAxB,QAA2C,WAA3C;AAEA,MAAMC,YAAY,GAAG;AACjBC,EAAAA,KAAK,EAAE,KADU;AAEjBC,EAAAA,EAAE,EAAE,IAFa;AAGjBC,EAAAA,IAAI,EAAE,IAHW;AAIjBC,EAAAA,IAAI,EAAE,IAJW;AAKjBC,EAAAA,KAAK,EAAE,IALU;AAMjBC,EAAAA,OAAO,EAAE,EANQ;AAOjBC,EAAAA,cAAc,EAAE;AAPC,CAArB;AAUA,OAAO,MAAMC,WAAW,GAAG,YAAkC;AAAA,MAAjCC,KAAiC,uEAAzBT,YAAyB;AAAA,MAAXU,MAAW;;AACzD,UAAQA,MAAM,CAACC,IAAf;AACI,SAAKb,aAAL;AAAoB;AAChB,eAAO,EAAC,GAAGW,KAAJ;AAAW,aAAGC,MAAM,CAACE,OAArB;AACHX,UAAAA,KAAK,EAAE,IADJ;AACUM,UAAAA,cAAc,EAAEG,MAAM,CAACE,OAAP,CAAeL,cAAf,CAA8BM,KAA9B,CAAoC,GAApC;AAD1B,SAAP;AAEH;;AACD,SAAKd,WAAL;AAAkB;AACd,gBAAQW,MAAM,CAACE,OAAP,CAAeE,OAAvB;AACI,eAAK,IAAL;AAAW;AACP,kBAAIC,iBAAiB,GAAG,CAAC,GAAGN,KAAK,CAACF,cAAV,CAAxB;AACA,oBAAMS,KAAK,GAAGD,iBAAiB,CAACE,OAAlB,CAA0BP,MAAM,CAACE,OAAP,CAAeM,QAAzC,CAAd;;AACA,kBAAIF,KAAK,GAAG,CAAC,CAAb,EAAgB;AACZD,gBAAAA,iBAAiB,CAACI,MAAlB,CAAyBH,KAAzB,EAAgC,CAAhC;AACH;;AACD,qBAAO,EAAC,GAAGP,KAAJ;AAAWF,gBAAAA,cAAc,EAAEQ;AAA3B,eAAP;AACH;;AACD,eAAK,KAAL;AAAY;AACR,qBAAO,EAAC,GAAGN,KAAJ;AAAWF,gBAAAA,cAAc,EAAE,CAAC,GAAGE,KAAK,CAACF,cAAV,EAA0BG,MAAM,CAACE,OAAP,CAAeM,QAAzC;AAA3B,eAAP;AACH;;AACD;AAAS;AACL,qBAAOT,KAAP;AACH;AAdL;AAgBH;;AACD;AAAS;AACL,eAAOA,KAAP;AACH;AAzBL;AA2BH,CA5BM","sourcesContent":["import { SET_USER_DATA, STAR_RECIPE } from './actions';\n\nconst initialState = {\n    loged: false,\n    id: null,\n    name: null,\n    mail: null,\n    likes: null,\n    recipes: [],\n    likedPostsIdes: [],\n}\n\nexport const userReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case SET_USER_DATA: {\n            return {...state, ...action.payload, \n                loged: true, likedPostsIdes: action.payload.likedPostsIdes.split(';')}\n        }\n        case STAR_RECIPE: {\n            switch (action.payload.starred) {\n                case true: {\n                    let likedPostIdesCopy = [...state.likedPostsIdes]\n                    const index = likedPostIdesCopy.indexOf(action.payload.recipeId);\n                    if (index > -1) {\n                        likedPostIdesCopy.splice(index, 1);\n                    }\n                    return {...state, likedPostsIdes: likedPostIdesCopy}\n                }\n                case false: {\n                    return {...state, likedPostsIdes: [...state.likedPostsIdes, action.payload.recipeId]}\n                }\n                default: {\n                    return state\n                }\n            }\n        }\n        default: {\n            return state\n        }\n    }\n}"]},"metadata":{},"sourceType":"module"}